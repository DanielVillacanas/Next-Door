(this["webpackJsonpnext-door"]=this["webpackJsonpnext-door"]||[]).push([[0],{111:function(e,t,s){},112:function(e,t,s){},113:function(e,t,s){"use strict";s.r(t);var r=s(0),a=s.n(r),c=s(50),n=s.n(c),l=(s(79),s(5)),i=s(2),o=s(14),d=s(4),m=s(9),u=s(18),x=s.n(u),j=function e(){var t=this;Object(m.a)(this,e),this.login=function(e,s){return t.app.post("/login",{email:e,password:s})},this.signUp=function(e,s,r,a,c){return t.app.post("/signUp",{username:e,email:s,password:r,address:c})},this.signUpSeller=function(e,s,r,a,c,n){return t.app.post("/signUpSeller",{username:e,email:s,password:r,address:c,type:n})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/auth"),withCredentials:!0})},b=s(114),h=s(1),g=new j;var p=function(e){var t=Object(r.useState)({email:"",password:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(void 0),m=Object(i.a)(n,2),u=m[0],x=(m[1],function(e){var t=e.currentTarget,s=t.name,r=t.value;c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))});return Object(h.jsx)("div",{className:"h-screen relative bg-gray-900",children:Object(h.jsxs)("div",{className:"relative pt-6 pb-10 sm:pb-8 bg-gray-900",children:[Object(h.jsx)(b.a,{children:Object(h.jsx)("nav",{className:"relative max-w-7xl mx-auto flex items-center justify-end px-4 sm:px-6","aria-label":"Global",children:Object(h.jsx)("div",{className:"md:flex mx-3 md:mr-16 mt-6",children:Object(h.jsx)(d.b,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700",children:"Inicio"})})})}),Object(h.jsx)("div",{className:"mt-12 sm:mt-4 bg-gray-900",children:Object(h.jsx)("div",{className:"mx-auto max-w-7xl",children:Object(h.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[Object(h.jsx)("div",{className:"px-4 sm:px-6 sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left lg:flex lg:items-center",children:Object(h.jsx)("div",{children:Object(h.jsxs)("h1",{className:"mt-2 text-4xl tracking-tight font-extrabold text-white sm:mt-5 sm:leading-none lg:mt-6 lg:text-5xl xl:text-6xl",children:[Object(h.jsx)("span",{className:"md:block",children:"Inicia sesi\xf3n y accede a"}),Object(h.jsx)("span",{className:"text-green-400 md:block",children:"miles de productos ecol\xf3gicos y de cercan\xeda"})]})})}),Object(h.jsx)("div",{className:"mt-16 sm:mt-22 lg:mt-0 lg:col-span-6 sm:px-10 mx-10",children:Object(h.jsxs)("div",{className:"bg-white sm:max-w-md sm:w-full sm:mx-auto rounded-lg sm:overflow-hidden lg:mt-12",children:[Object(h.jsx)("div",{className:"mt-4 sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("div",{className:"bg-white py-2 px-4 shadow rounded-lg ",children:[Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(t){t.preventDefault(),g.login(a.email,a.password).then((function(){e.history.push("/products"),e.loadUser()})).catch((function(e){return console.log({err:e})}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de correo"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"email",name:"email",type:"email",onChange:x,value:a.email,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"password",name:"password",type:"password",onChange:x,value:a.password,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Inicio de sesi\xf3n"})})]}),Object(h.jsx)("div",{className:"mt-6",children:Object(h.jsxs)("div",{className:"relative",children:[Object(h.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(h.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(h.jsx)("div",{className:"relative flex justify-center text-sm",children:Object(h.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"o crea una cuenta"})})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(d.b,{to:"/signUp",className:"mt-6 w-full flex justify-center py-2 px-4 border border-green-600 rounded-md shadow-sm text-sm font-medium text-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 hover:text-white hover:bg-green-600",children:"Registrate"})})]})}),Object(h.jsx)("div",{className:"px-4 py-6 bg-gray-50 border-t-2 border-gray-200 sm:px-10 rounded-lg",children:Object(h.jsxs)("p",{className:"text-xs leading-5 text-gray-500",children:["Registrandote estas de acuerdo con nuestros",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Terminos"}),",",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de datos"}),"and",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de Cookies"}),"."]})}),Object(h.jsx)("div",{children:u&&Object(h.jsx)("p",{className:"font-medium text-red-600 hover:text-red-500 text-center pb-5",children:u})})]})})]})})})]})})},f=s(115),O=s(117),v=s(116),y=s(118),w=s(30),N=s(15),C=function e(){var t=this;Object(m.a)(this,e),this.createProduct=function(e){var s=e.name,r=e.price,a=e.description,c=e.img_url,n=e.owner;return t.app.post("/create-new-product",{name:s,price:r,description:a,img_url:c,owner:n})},this.deleteProduct=function(e){return t.app.get("/deleteProduct/".concat(e))},this.getSeller=function(e){return t.app.get("/".concat(e))},this.editSeller=function(e,s,r,a,c,n,l){return t.app.post("/edit",e,s,r,c,n,l)},this.getAllProductsFromASeller=function(e){return t.app.get("/".concat(e))},this.deleteProductFromSeller=function(e){return t.app.put("/deleteProductFromSeller/".concat(e))},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/seller"),withCredentials:!0})},k=new C;function F(e){var t=Object(r.useState)({name:"",price:"",description:"",img_url:"",owner:e.loggedUser._id}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=function(e){var t=e.currentTarget,s=t.name,r=t.value;c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))};return Object(h.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(h.jsx)("p",{className:"text-center font-semibold text-lg text-green-800",children:"Crear un nuevo producto"}),Object(h.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(t){t.preventDefault(),k.createProduct({name:a.name,price:a.price,description:a.description,img_url:a.img_url,owner:a.owner}).then((function(t){e.refreshProducts(),e.close(),e.history.push("/products")})).catch((function(e){return console.log(e)}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"name",onChange:n,name:"name",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Precio"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"price",onChange:n,name:"price",type:"number",step:"any",min:"0",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descipci\xf3n"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("textarea",{id:"description",onChange:n,name:"description",type:"text",required:!0,className:"appearance-none h-28 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Imagen del producto"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"image",onChange:n,name:"img_url",type:"text",required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"A\xf1adir producto"})})]})})]})}var S=s.p+"static/media/LogoWhite.2666b9fa.svg",U=[{name:"Inicio",href:"/",current:!1},{name:"Productos",href:"/products",current:!1}],_=[{name:"Inicio de Sesi\xf3n",href:"/login",current:!1},{name:"Registrarse",href:"/signUp",current:!1}],T=[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}],P=[{value:"1",label:"M\xe1s caro",checked:!1},{value:"0",label:"M\xe1s barato",checked:!1}],M=[{id:"categorias",name:"Categor\xeda de Tienda",options:[{value:"Carnes",label:"Carnicer\xeda",checked:!1},{value:"Pescados",label:"Pescader\xeda",checked:!1},{value:"Frutas",label:"Fruter\xeda",checked:!1},{value:"Verduras",label:"Verduler\xeda",checked:!1},{value:"Other",label:"Otros",checked:!1}]}],L=[{id:"categorias",name:"Distancia",options:[{value:"0",label:"Ninguna",checked:!1},{value:"5",label:"5km",checked:!1},{value:"10",label:"10km",checked:!1},{value:"15",label:"15km",checked:!1},{value:"20",label:"20km",checked:!1},{value:"25",label:"25km",checked:!1}]}],E=new j;function I(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}function R(e){var t=e.loggedUser,s=Object(r.useState)(0),a=Object(i.a)(s,2),c=a[0],n=a[1],l=Object(r.useState)(e.loggedUser),o=Object(i.a)(l,2),m=o[0],u=o[1];null===t&&(t=void 0);var x=Object(r.useState)(!1),j=Object(i.a)(x,2),b=j[0],g=j[1],p=function(){g(!0)},C=function(){g(!1)},k=function(){E.logout().then((function(t){e.loadUser(),e.history.push("/logIn")})).catch((function(e){return console.log(e)}))};return Object(r.useEffect)((function(){var t,s;null!=e.loggedUser&&n(null===(t=e.loggedUser)||void 0===t||null===(s=t.productsCart)||void 0===s?void 0:s.length)})),Object(r.useEffect)((function(){u(e.loggedUser)}),[e.loggedUser]),Object(h.jsx)(f.a,{as:"nav",className:"bg-gray-800",children:function(s){var a,n,l=s.open;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Object(h.jsxs)("div",{className:"flex justify-between h-16",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"-ml-2 mr-2 flex items-center md:hidden",children:Object(h.jsx)(f.a.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:l?Object(h.jsx)(w.g,{className:"block h-6 w-6","aria-hidden":"true"}):Object(h.jsx)(w.d,{className:"block h-6 w-6","aria-hidden":"true"})})}),Object(h.jsx)("div",{className:"flex-shrink-0 flex items-center",children:Object(h.jsx)(d.b,{to:"/",children:Object(h.jsx)("img",{className:"hidden lg:block h-16 w-auto",src:S,alt:"Workflow"})})}),Object(h.jsxs)("div",{className:"hidden md:ml-6 md:flex md:items-center md:space-x-4",children:[U.map((function(e){return Object(h.jsx)(d.b,{to:e.href,className:I(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"),"aria-current":!e.current||"page",children:e.name},e.name)})),_.map((function(e){return void 0===t&&Object(h.jsx)(d.b,{to:e.href,className:I(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))]})]}),Object(h.jsxs)("div",{className:"flex items-center",children:["Seller"===(null===(a=t)||void 0===a?void 0:a.role)&&!e.home&&Object(h.jsxs)("button",{type:"button",onClick:p,className:"relative inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500",children:[Object(h.jsx)(N.e,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),Object(h.jsx)("span",{children:"Nuevo Producto"})]}),"User"===(null===(n=t)||void 0===n?void 0:n.role)&&!e.home&&Object(h.jsx)(d.b,{className:"flex-shrink-0",to:"/products/cart",children:Object(h.jsx)("button",{type:"button",className:"",children:Object(h.jsxs)("span",{className:"relative inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-500 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-indigo-500",children:[Object(h.jsx)("span",{className:"mr-2",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),"Cesta :",Object(h.jsx)("div",{className:"container ml-2 rounded-full bg-green-600 text-white w-6 h-6 text-center",children:Object(h.jsx)("div",{className:"mx-auto h-full my-auto mt-0.5",children:c})})]})})}),Object(h.jsx)(O.a.Root,{show:b,as:r.Fragment,children:Object(h.jsx)(v.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto ",onClose:g,children:Object(h.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(h.jsx)(O.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0 ",children:Object(h.jsx)(v.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(h.jsx)("span",{className:" sm:inline-block sm:align-middle sm:h-12","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(O.a.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(h.jsx)(r.Fragment,{children:Object(h.jsx)(F,{refreshProducts:e.refreshProducts,loggedUser:t,history:e.history,close:C})})})]})})}),t&&!e.home&&Object(h.jsx)("div",{className:"hidden md:ml-4 md:flex-shrink-0 md:flex md:items-center",children:Object(h.jsxs)(y.a,{as:"div",className:"ml-3 relative",children:[Object(h.jsx)("div",{children:Object(h.jsx)(y.a.Button,{className:"bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:Object(h.jsx)("img",{className:"h-8 w-8 rounded-full",src:null===m||void 0===m?void 0:m.img_url,alt:""})})}),Object(h.jsx)(O.a,{as:r.Fragment,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(h.jsxs)(y.a.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:[Object(h.jsx)(y.a.Item,{children:function(e){var s,r,a=e.active;return Object(h.jsxs)(h.Fragment,{children:["Seller"===(null===(s=t)||void 0===s?void 0:s.role)&&Object(h.jsx)(d.b,{to:"/seller/".concat(t._id),className:I(a?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Tu tienda"}),"User"===(null===(r=t)||void 0===r?void 0:r.role)&&Object(h.jsx)(d.b,{to:"/user/".concat(t._id),className:I(a?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Tu perfil"})]})}},"Tu tienda"),Object(h.jsx)(y.a.Item,{children:function(e){var t=e.active;return Object(h.jsx)(d.b,{to:"/logOut",onClick:k,className:I(t?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"),children:"Cerrar sesi\xf3n"})}},"Sign out")]})})]})})]})]})}),Object(h.jsxs)(f.a.Panel,{className:"md:hidden",children:[Object(h.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[U.map((function(e){return Object(h.jsx)(d.b,{to:e.href,className:I(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)})),void 0===t&&_.map((function(e){return Object(h.jsx)(d.b,{to:e.href,className:I(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))]}),t&&Object(h.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(h.jsxs)("div",{className:"flex items-center px-5 sm:px-6",children:[Object(h.jsx)("div",{className:"flex-shrink-0",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full",src:null===m||void 0===m?void 0:m.img_url,alt:""})}),Object(h.jsxs)("div",{className:"ml-3",children:[Object(h.jsx)("div",{className:"text-base font-medium text-white",children:t.username}),Object(h.jsx)("div",{className:"text-sm font-medium text-gray-400",children:t.email})]})]}),Object(h.jsxs)("div",{className:"mt-3 px-2 space-y-1 sm:px-3",children:["User"===t.role?Object(h.jsx)(f.a.Button,{as:d.b,to:"/user/".concat(t._id),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Tu Perfil"},"Your Profile"):Object(h.jsx)(f.a.Button,{as:d.b,to:"/seller/".concat(t._id),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Tu Tienda"},"Your Profile"),Object(h.jsx)(d.b,{as:d.b,to:"/logOut",onClick:k,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700",children:"Cerrar Sesi\xf3n"},"Sign out")]})]})]})]})}})}var q=new j;function D(e){var t=Object(r.useState)({email:"",password:"",password2:"",img_url:"",address:"",username:"",type:"Carnes",description:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(),m=Object(i.a)(n,2),u=m[0],x=m[1],j=Object(r.useState)(void 0),b=Object(i.a)(j,2),g=b[0],p=b[1],f=function(e){var t=e.currentTarget,s=t.name,r=t.value;"password2"===e.currentTarget.name&&""!==e.currentTarget.value&&(e.currentTarget.value!==a.password?p("Las contrase\xf1as no coinciden"):p(void 0)),c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("div",{className:"bg-white py-2 px-4 shadow rounded-lg ",children:[Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(t){t.preventDefault(),!g&&q.signUpSeller(a.username,a.email,a.password,a.password2,a.address,a.type).then((function(t){e.props.loadUser(),e.props.history.push("/products")})).catch((function(e){var t;return x(null===(t=e.response)||void 0===t?void 0:t.data)}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nombre de la empresa"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"username",name:"username",type:"text",onChange:f,value:a.username,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de correo"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"email",name:"email",type:"email",onChange:f,value:a.email,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"password",name:"password",type:"password",onChange:f,value:a.password,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password2",className:"block text-sm font-medium text-gray-700",children:"Comprobaci\xf3n de contrase\xf1a"}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsx)("input",{id:"password2",name:"password2",type:"password",onChange:f,value:a.password2,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),g&&Object(h.jsx)("p",{className:"text-red-500",children:g})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de la empresa"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"address",name:"address",type:"text",onChange:f,value:a.address,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Tipo de comercio"}),Object(h.jsxs)("select",{id:"type",name:"type",className:" border-2 border-green-500 mt-3 block w-full pl-1 pr-10 py-2 text-base focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md",defaultValue:"Carnes",onChange:function(e){var t=e.currentTarget.value;c((function(e){return Object(l.a)(Object(l.a)({},e),{},{type:t})}))},children:[Object(h.jsx)("option",{children:"Carnes"}),Object(h.jsx)("option",{children:"Frutas"}),Object(h.jsx)("option",{children:"Pescados"}),Object(h.jsx)("option",{children:"Verduras"}),Object(h.jsx)("option",{children:"Otro"})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Registrate"})}),Object(h.jsx)("div",{children:u&&Object(h.jsx)("p",{className:"text-red-500 text-center",children:"Error al registrar usuario compruebe que la direcci\xf3n es correcta y que no empieza por C/"})})]}),Object(h.jsx)("div",{className:"mt-6",children:Object(h.jsxs)("div",{className:"relative",children:[Object(h.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(h.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(h.jsx)("div",{className:"relative flex justify-center text-sm",children:Object(h.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"o inicia sesi\xf3n"})})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(d.b,{to:"/login",className:"mt-6 w-full flex justify-center py-2 px-4 border border-green-600 rounded-md shadow-sm text-sm font-medium text-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Inicio de sesi\xf3n"})})]})}),Object(h.jsx)("div",{className:"px-4 py-6 bg-gray-50 border-t-2 border-gray-200 sm:px-10 rounded-lg",children:Object(h.jsxs)("p",{className:"text-xs leading-5 text-gray-500",children:["Registrandote estas de acuerdo con nuestros",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Terminos"}),",",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de datos"}),"and",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de Cookies"}),"."]})})]})}var B=new j;function V(e){var t=Object(r.useState)({email:"",password:"",password2:"",address:"",username:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(void 0),m=Object(i.a)(n,2),u=m[0],x=m[1],j=function(e){var t=e.currentTarget,s=t.name,r=t.value;"password2"===e.currentTarget.name&&""!==e.currentTarget.value&&(e.currentTarget.value!==a.password?x("Las contrase\xf1as no coinciden"):x(void 0)),c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("div",{className:"bg-white py-2 px-4 shadow rounded-lg ",children:[Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(t){t.preventDefault(),!u&&B.signUp(a.username,a.email,a.password,a.password2,a.address).then((function(t){e.props.loadUser(),e.props.history.push("/products")})).catch((function(e){return console.log("USER",e)}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"username",name:"username",type:"text",onChange:j,value:a.username,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de correo"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"email",name:"email",type:"email",onChange:j,value:a.email,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"password",name:"password",type:"password",onChange:j,value:a.password,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password2",className:"block text-sm font-medium text-gray-700",children:"Comprobaci\xf3n de contrase\xf1a"}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsx)("input",{id:"password2",name:"password2",type:"password",onChange:j,value:a.password2,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),u&&Object(h.jsx)("p",{className:"text-red-500",children:u})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de envio"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"address",name:"address",type:"text",onChange:j,value:a.address,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Registrate"})})]}),Object(h.jsx)("div",{className:"mt-6",children:Object(h.jsxs)("div",{className:"relative",children:[Object(h.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(h.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(h.jsx)("div",{className:"relative flex justify-center text-sm",children:Object(h.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"o inicia sesi\xf3n"})})]})}),Object(h.jsx)("div",{children:Object(h.jsx)(d.b,{to:"/login",className:"mt-6 w-full flex justify-center py-2 px-4 border border-green-600 rounded-md shadow-sm text-sm font-medium text-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 hover:text-white hover:bg-green-600",children:"Inicio de sesi\xf3n"})})]})}),Object(h.jsx)("div",{className:"px-4 py-4 bg-gray-50 border-t-2 border-gray-200 sm:px-10 ",children:Object(h.jsxs)("p",{className:"text-xs leading-5 text-gray-500",children:["Registrandote estas de acuerdo con nuestros",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Terminos"}),",",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de datos"}),"and",Object(h.jsx)(d.b,{href:"#",className:"font-medium text-gray-900 hover:underline",children:"Pol\xedtica de Cookies"}),"."]})})]})}var H=s(53);function z(e){var t=Object(r.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useRef)(),l=function(e){n.current=Object(H.a)("".concat("https://nextdoor-app.herokuapp.com")),n.current.emit("addUser",null===e||void 0===e?void 0:e._id)};return Object(h.jsx)("div",{className:"max-h-screen relative bg-gray-900",children:Object(h.jsxs)("div",{className:"relative pt-4 pb-10 sm:pb-28 bg-gray-900",children:[Object(h.jsx)(b.a,{children:Object(h.jsx)("nav",{className:"relative max-w-7xl mx-auto flex items-center lg:justify-end justify-center px-4 sm:px-6","aria-label":"Global",children:Object(h.jsxs)("div",{className:"flex mx-3 md:mr-16",children:[a?Object(h.jsx)("div",{className:"md:flex sm:max-w-md sm:w-full sm:mx-auto mt-8 lg:mt-0",children:Object(h.jsx)("button",{onClick:function(){c(!1)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-black bg-white",children:"Registrate como empresa"})}):Object(h.jsx)("div",{className:"md:flex sm:max-w-md sm:w-full sm:mx-auto mt-8 lg:mt-0",children:Object(h.jsx)("button",{onClick:function(){c(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-black bg-white",children:"Registrate como usuario"})}),Object(h.jsx)(d.b,{to:"/",className:"inline-flex items-center h-1/2 mt-auto px-4 ml-12 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700",children:"Inicio"})]})})}),Object(h.jsx)("div",{className:"mt-12 sm:mt-4 bg-gray-900",children:Object(h.jsx)("div",{className:"mx-auto max-w-7xl",children:Object(h.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8 ",children:[Object(h.jsx)("div",{className:"px-4 my-6 lg:my-0 sm:px-6 sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left lg:flex lg:items-center",children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{className:"mt-2 text-4xl tracking-tight font-extrabold text-white sm:mt-5 sm:leading-none lg:mt-6 lg:text-5xl xl:text-6xl",children:[Object(h.jsx)("span",{className:"md:block",children:"Unete a nosotros para apoyar el"}),Object(h.jsx)("span",{className:"text-green-400 md:block",children:"comercio local y de cercan\xeda."})]}),Object(h.jsx)("p",{className:"mt-3 text-base text-gray-300 sm:mt-5 sm:text-xl lg:text-lg xl:text-xl",children:"El comercio local supone una parte fundamental de la vida en los barrios. Los peque\xf1os negocios, combinados con otros servicios, generan un desarrollo econ\xf3mico y social de gran impacto en las ciudades."})]})}),Object(h.jsx)("div",{className:"lg:col-span-6 sm:px-10 mx-10 ",children:Object(h.jsx)("div",{className:"bg-white sm:max-w-md sm:w-full sm:mx-auto rounded-lg rounded-lg sm:overflow-hidden py-4",children:a?Object(h.jsx)(V,{props:e,loggedInChat:l}):Object(h.jsx)(D,{props:e,loggedInChat:l})})})]})})})]})})}var A=s(37),Z=function e(){var t=this;Object(m.a)(this,e),this.getAllProducts=function(e,s){return t.app.get("/?page=".concat(e,"&limit=").concat(s))},this.getOneProduct=function(e){return t.app.get("/details/".concat(e))},this.addProductCart=function(e,s){return t.app.get("/cart/add?id=".concat(e,"&quantity=").concat(s))},this.getCartProducts=function(){return t.app.get("/cart/all")},this.removeProductCart=function(e){return t.app.put("/cart/remove/".concat(e))},this.removeCart=function(){return t.app.put("/cart/removeAll")},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/allProducts"),withCredentials:!0})};var W=function(e){var t=e.product;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"group bg-white rounded-lg",children:[Object(h.jsx)("div",{className:"w-full  aspect-w-1 aspect-h-1 bg-white overflow-hidden xl:aspect-w-7 xl:aspect-h-8 rounded-lg",children:Object(h.jsx)("img",{src:t.img_url,className:"group w-full h-80 object-center object-cover bg-white rounded-lg",alt:"Product Img"})}),Object(h.jsxs)("div",{className:"pl-8 pb-4 bg-gray-50 rounded-lg",children:[Object(h.jsx)("h3",{className:"pt-4 pr-2 mb-6 text-sm text-black h-10",children:t.name}),Object(h.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[t.price," \u20ac"]}),Object(h.jsx)(d.b,{to:"/products/".concat(t._id),children:Object(h.jsx)("button",{type:"button",className:"mt-4 px-4 py-2 border border-transparent  shadow-sm text-sm font-medium rounded-md text-white bg-green-500  hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Detalles de producto"})})]})]},t._id)})};function K(e){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:" mt-20 mb-8 mx-12 relative flex items-center border-2 border-green-300 rounded-lg",children:Object(h.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Buscar...",onChange:function(t){return function(t){var s=t.currentTarget.value;e.getInfo(s.toLowerCase())}(t)},className:"p-6 h-12 shadow-sm focus:ring-green-500 focus:border-green-500 block w-full sm:text-sm border-green-300 rounded-md"})})})}var G=a.a.createContext(!1),J=G.Provider,X=G;var Y=function(e){var t=function(t){var s=t.currentTarget.value;e.getFilter(s)},s=Object(r.useContext)(X),a=function(t){var s=t.currentTarget.id;e.getShort(s)},c=function(t){var s=t.currentTarget.value;e.getRange(s)};return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"bg-gray-900",children:Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"max-w-7xl mx-24 sm:px-6 lg:px-8",children:Object(h.jsx)("section",{"aria-labelledby":"products-heading",className:"pt-6 pb-14",children:Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"block space-y-4",children:[null!==s&&L.map((function(e){return Object(h.jsx)(f.a,{as:"div",className:"border-b border-green-500 pb-6 pt-4",children:function(t){var s=t.open;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{className:"-my-3 flex justify-between",children:Object(h.jsx)("div",{children:Object(h.jsxs)(f.a.Button,{className:" bg-gray-900 w-full flex justify-start text-sm text-white hover:text-white",children:[Object(h.jsx)("span",{className:"font-medium text-white",children:e.name}),Object(h.jsx)("span",{className:" flex items-center",children:s?Object(h.jsx)(N.d,{className:"h-5 w-5","aria-hidden":"true",value:0,onClick:c}):Object(h.jsx)(N.e,{className:"h-5 w-5","aria-hidden":"true"})})]})})}),Object(h.jsx)(f.a.Panel,{className:"pt-6",children:Object(h.jsx)("div",{className:"grid md:grid-cols-6 sm:grid-cols-3 grid-cols-1 space-y-2",children:e.options.map((function(t){return Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("input",{id:t.value,onChange:c,name:"".concat(e.id,"[]"),value:t.value,type:"radio",defaultChecked:t.checked,className:"h-4 w-4 border-white rounded text-white focus:ring-white "}),Object(h.jsx)("label",{htmlFor:t.value,className:"ml-3 text-sm text-white",children:t.label})]},t.value)}))})})]})}},e.id)})),M.map((function(e){return Object(h.jsx)(f.a,{as:"div",className:"border-b border-green-500 pb-6 pt-4",children:function(s){var r=s.open;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{className:"-my-3 flex justify-between",children:[Object(h.jsx)("div",{children:Object(h.jsxs)(f.a.Button,{className:" bg-gray-900 w-full flex justify-start text-sm text-white",children:[Object(h.jsx)("span",{className:"font-medium text-white",children:e.name}),Object(h.jsx)("span",{className:" flex items-center",children:r?Object(h.jsx)(N.d,{className:"h-5 w-5","aria-hidden":"true"}):Object(h.jsx)(N.e,{className:"h-5 w-5","aria-hidden":"true"})})]})}),Object(h.jsx)("div",{children:Object(h.jsxs)(y.a,{as:"div",className:"relative inline-block text-left",children:[Object(h.jsx)("div",{children:Object(h.jsxs)(y.a.Button,{className:"group inline-flex justify-center text-sm font-medium text-white",children:["Ordenar por precio",Object(h.jsx)(N.a,{className:"flex-shrink-0 -mr-1 ml-1 h-5 w-5 text-white group-hover:text-white","aria-hidden":"true"})]})}),Object(h.jsx)(y.a.Items,{className:"origin-top-right absolute left-6 sm:left-20 mt-2 w-40 rounded-md shadow-2xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(h.jsx)("div",{className:"py-1",children:P.map((function(e){return Object(h.jsxs)("div",{className:"flex items-center px-4 py-2",children:[Object(h.jsx)("input",{onChange:a,id:e.value,name:"radio-filter",defaultChecked:!1,type:"radio",className:"h-4 w-4 border-white rounded text-indigo-600 focus:ring-indigo-500 "}),Object(h.jsx)("label",{htmlFor:e.value,className:"ml-3 text-sm text-gray-600",children:e.label})]},e.value)}))})})]})})]}),Object(h.jsx)(f.a.Panel,{className:"pt-6",children:Object(h.jsx)("div",{className:"grid md:grid-cols-5 sm:grid-cols-3 grid-cols-1 space-y-2",children:e.options.map((function(s){return Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("input",{id:s.value,onChange:t,name:"".concat(e.id,"[]"),value:s.value,type:"checkbox",defaultChecked:s.checked,className:"h-4 w-4 border-white rounded text-white"}),Object(h.jsx)("label",{htmlFor:s.value,className:"ml-3 text-sm text-white",children:s.label})]},s.value)}))})})]})}},e.id)}))]})})})})})})})},Q=new Z;function $(e){var t=Object(r.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)([]),l=Object(i.a)(n,2),o=l[0],d=l[1],m=Object(r.useState)([]),u=Object(i.a)(m,2),x=(u[0],u[1],Object(r.useState)([])),j=Object(i.a)(x,2),b=j[0],g=j[1],p=Object(r.useState)(),f=Object(i.a)(p,2),O=f[0],v=f[1],y=Object(r.useState)(0),w=Object(i.a)(y,2),C=w[0],k=w[1],F=Object(r.useState)(""),S=Object(i.a)(F,2),U=S[0],_=S[1],T=Object(r.useState)(1),P=Object(i.a)(T,2),M=P[0],L=P[1],E=Object(r.useState)(0),I=Object(i.a)(E,2),R=I[0],q=I[1],D=Math.ceil(R/12),B=function(){Q.getAllProducts().then((function(e){c(a=e.data.products),d(o=e.data.products),z(e.data.products),q(e.data.length)})).catch((function(e){return console.log(e)}))};!0===e.refresh&&(B(),e.changeValueRefresh()),Object(r.useEffect)((function(){B()}),[]),Object(r.useEffect)((function(){B()}),[M]);Object(r.useEffect)((function(){var t=Object(A.a)(a);0!==U.length&&(t=a.filter((function(e){return e.name.toLowerCase().includes(U)}))),0!==b.length&&(t=t.filter((function(e){return b.includes(e.owner.type)}))),C>0&&(t=t.filter((function(t){var s,r;return C>function(e,t){var s=e[1]*Math.PI/180,r=t[1]*Math.PI/180,a=(t[1]-e[1])*Math.PI/180,c=(t[0]-e[0])*Math.PI/180,n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(s)*Math.cos(r)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371e3/1e3}(null===(s=t.owner)||void 0===s?void 0:s.coordinates,null===(r=e.loggedUser)||void 0===r?void 0:r.coordinates)}))),1==O?t=t.sort((function(e,t){return e.price>t.price?-1:e.price<t.price?1:0})):0==O&&(t=t.sort((function(e,t){return e.price>t.price?1:e.price<t.price?-1:0}))),d(t),z(t)}),[U,b,O,C,M]);var V=function(e){L(parseInt(e.currentTarget.name)),window.scrollTo(0,0)},H=function(e){(e.currentTarget.name=M<D)?L(M+1):M>1&&L(M-1),window.scrollTo(0,0)},z=function(e){var t=12*(M-1),s=12*M,r=e.slice(t,s);d(r)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(K,{getInfo:function(e){_(e)}}),Object(h.jsx)(Y,{getFilter:function(e){var t=Object(A.a)(b);if(t.includes(e)){var s=t.indexOf(e);t.splice(s,1)}else t.push(e);g(t)},getShort:function(e){v(e)},getRange:function(e){k(e)}}),Object(h.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8 ",children:[Object(h.jsx)("h2",{className:"sr-only",children:"Products"}),Object(h.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:o.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(W,{product:e})},e._id)}))}),Object(h.jsxs)("div",{className:"bg-gray-900 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-10",children:[Object(h.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[Object(h.jsx)("button",{name:"Prev",onClick:H,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Anterior"}),Object(h.jsx)("button",{name:"Next",onClick:H,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Siguiente"})]}),Object(h.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[Object(h.jsx)("div",{children:Object(h.jsxs)("p",{className:"text-sm text-white",children:[Object(h.jsxs)("span",{className:"font-medium",children:[" ",M<2?1:12+1*(M-1)]}),"-",Object(h.jsxs)("span",{className:"font-medium",children:[" ",M<2?o.length:R]})]})}),Object(h.jsx)("div",{children:Object(h.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[Object(h.jsxs)("button",{name:"Prev",onClick:H,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-black hover:bg-gray-100",children:[Object(h.jsx)("span",{className:"sr-only",children:"Anterior"}),Object(h.jsx)(N.b,{className:"h-5 w-5","aria-hidden":"true"})]}),Object(A.a)(Array(D)).map((function(e,t){return Object(h.jsx)("button",{onClick:V,name:t+1,"aria-current":"page",className:"z-10 bg-green-200 border-green-500 text-black relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-green-300",children:t+1})})),Object(h.jsxs)("button",{name:"Next",onClick:H,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-green-300 bg-white text-sm font-medium text-black hover:bg-gray-100",children:[Object(h.jsx)("span",{className:"sr-only",children:"Siguiente"}),Object(h.jsx)(N.c,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})})}var ee=function e(){var t=this;Object(m.a)(this,e),this.createReview=function(e,s,r,a){return t.app.post("/create-new-review",{description:e,rating:s,product:r,seller:a})},this.getReviewsOhThis=function(e,s){return t.app.get("/?id=".concat(e,"&type=").concat(s))},this.getReviewsOfThisUser=function(e){return t.app.get("/user/".concat(e))},this.deleteThisReview=function(e){return t.app.delete("/remove/".concat(e))},this.createComment=function(e,s,r){return t.app.post("/create-new-comment",e,s,r)},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/reviews"),withCredentials:!0})};function te(e){var t=Object(r.useState)({creator:e.user._id,description:"",review:e.review}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=new ee;return Object(h.jsxs)("form",{className:"mt-5",onSubmit:function(t){t.preventDefault(),n.createComment(a).then((function(t){c({creator:e.user._id,description:"",review:e.review}),e.loadReviews()})).catch((function(e){return console.log(e)}))},children:[Object(h.jsx)("textarea",{onChange:function(e){var t=e.currentTarget,s=t.name,r=t.value;c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))},placeholder:"Respuesta...",name:"description",value:a.description,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),Object(h.jsx)("button",{className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 mt-5",children:"Enviar"})]})}function se(e){var t=Object(r.useState)(!1),s=Object(i.a)(t,2),a=s[0],c=s[1],n=function(){c(!a)};return Object(h.jsx)("div",{children:Object(h.jsx)(f.a,{as:"div",className:!0!==a?"border-b border-gray-200 pb-6 pt-4":"pb-6",children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{className:"-my-3 flex justify-between",children:Object(h.jsx)("div",{children:Object(h.jsx)(f.a.Button,{className:" bg-white w-full flex justify-start text-sm text-gray-400 hover:text-gray-500",children:Object(h.jsx)("span",{className:" flex items-center",children:a?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{onClick:function(){n()},children:"Ocultar respuestas"}),Object(h.jsx)(N.d,{className:"h-5 w-5","aria-hidden":"true",value:0,onClick:function(){n()}})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{onClick:function(){n()},children:"Mostrar respuestas"}),Object(h.jsx)(N.e,{className:"h-5 w-5","aria-hidden":"true",onClick:function(){n()}})]})})})})}),Object(h.jsx)(f.a.Panel,{className:"pt-6",children:Object(h.jsx)("ul",{children:e.comment.comments.map((function(e){var t,s,r,a,c,n;return Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"ml-10 mb-10 flex space-x-3 justify-between",children:Object(h.jsxs)("div",{className:"flex mt-2",children:[Object(h.jsx)("div",{className:"flex-shrink-0 ",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full",src:null!=e.creatorUser?null===(t=e.creatorUser)||void 0===t?void 0:t.img_url:null===(s=e.creatorSeller)||void 0===s?void 0:s.img_url,alt:""})}),Object(h.jsxs)("div",{className:" ml-2",children:[Object(h.jsx)("div",{className:"text-sm mx-2",children:Object(h.jsx)(d.b,{to:null!=e.creatorUser?"/user/".concat(null===(r=e.creatorUser)||void 0===r?void 0:r._id):"/seller/".concat(null===(a=e.creatorSeller)||void 0===a?void 0:a._id),className:"font-medium text-gray-900",children:null!=e.creatorUser?null===(c=e.creatorUser)||void 0===c?void 0:c.username:null===(n=e.creatorSeller)||void 0===n?void 0:n.username})}),Object(h.jsx)("div",{className:"mt-1 mx-5 text-sm text-gray-700",children:Object(h.jsx)("p",{children:e.description})})]})]})})})}))})})]})})})}function re(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}var ae=new ee;function ce(e){var t=Object(r.useState)({description:"",rating:1,product:e.ProductId,seller:e.SellerId}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)([]),m=Object(i.a)(n,2),u=m[0],x=m[1],j=Object(r.useState)(void 0),b=Object(i.a)(j,2),g=b[0],p=b[1],f=Object(r.useRef)(),O="",v="";void 0===e.ProductId?(O=e.SellerId,v="seller"):(O=e.ProductId,v="product");var y=Object(r.useContext)(X);Object(r.useEffect)((function(){C()}),[]);var w=function(e){var t=e.currentTarget,s=t.name,r=t.value;c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))},C=function(){ae.getReviewsOhThis(O,v).then((function(e){x(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"min-h-full",children:Object(h.jsx)("div",{className:"pb-10 ",children:Object(h.jsx)("div",{className:"mt-8 max-w-3xl  mx-auto grid grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense",children:Object(h.jsx)("div",{className:"space-y-6 lg:col-start-1 lg:col-span-2 px-4 ",children:Object(h.jsx)("section",{"aria-labelledby":"notes-title",children:Object(h.jsx)("div",{className:"bg-white shadow rounded-lg sm:overflow-hidden",children:Object(h.jsxs)("div",{className:"divide-y divide-gray-200",children:[Object(h.jsx)("div",{className:"px-4 py-5 sm:px-6",children:O!==e.ProductId?Object(h.jsx)("h2",{id:"notes-title",className:"text-lg font-medium text-gray-900",children:"Comentarios del vendedor"}):Object(h.jsx)("h2",{id:"notes-title",className:"text-lg font-medium text-gray-900",children:"Comentarios del producto"})}),"User"===(null===y||void 0===y?void 0:y.role)&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"bg-gray-50 px-4 py-6 sm:px-6",children:Object(h.jsxs)("div",{className:"flex space-x-3 ",children:[Object(h.jsx)("div",{className:"flex-shrink-0",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full",src:null===y||void 0===y?void 0:y.img_url,alt:""})}),Object(h.jsx)("div",{className:"min-w-0 flex-1 ",children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),ae.createReview(a.description,a.rating,a.product,a.seller).then((function(t){C(),e.ProductId&&e.loadReviewsFather(),c({description:"",product:e.ProductId,seller:e.SellerId}),f.current.reset()})).catch((function(e){return console.log("error",e)}))},ref:f,children:[Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{value:a.description,id:"comment",onChange:w,name:"description",rows:4,className:"appearance-none block w-full px-3 py-2 border-2 border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"A\xf1ade un comentario"})}),Object(h.jsx)("h3",{className:"ml-5 mt-4",children:"Deja tu nota"}),Object(h.jsx)("div",{className:"py-1 flex grid grid-cols-5",children:T.map((function(e,t){return Object(h.jsxs)("div",{className:"flex items-center px-4 py-2 ml-6",children:[Object(h.jsx)("input",{onChange:w,id:t+1,value:t+1,name:"rating",defaultChecked:!1,type:"radio",className:"h-4 w-4 border-black rounded text-green-600 focus:ring-green-500 "}),Object(h.jsx)("label",{htmlFor:e.value,className:"ml-3 text-sm text-gray-600",children:e.label})]},t+1)}))}),Object(h.jsx)("div",{className:"mt-3 flex items-center justify-between",children:Object(h.jsx)("button",{type:"submit",className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Comentar"})})]})})]})})}),Object(h.jsx)("div",{className:"px-4 py-6 sm:px-6",children:Object(h.jsx)("ul",{className:"space-y-8",children:u.map((function(t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("li",{children:[Object(h.jsxs)("div",{className:"flex space-x-3 justify-between",children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"flex-shrink-0",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full",src:t.creator.img_url,alt:""})}),Object(h.jsxs)("div",{className:" ml-2",children:[Object(h.jsx)("div",{className:"text-sm mx-2",children:Object(h.jsx)(d.b,{to:"/user/".concat(t.creator._id),className:"font-medium text-gray-900",children:t.creator.username})}),Object(h.jsx)("div",{className:"lg:col-span-2 lg:pr-8 mx-2 mt-2 ",children:Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsx)("div",{className:"flex items-center ",children:[0,1,2,3,4].map((function(e){return Object(h.jsx)(N.f,{className:re(t.rating>e?"text-green-500":"text-gray-200","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},e)}))})})}),Object(h.jsx)("div",{className:"mt-1 mx-3 text-sm text-gray-700",children:Object(h.jsx)("p",{className:"max-w-xl break-all",children:t.description})})]})]}),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"flex place-items-end mr-2",children:Object(h.jsx)("button",{type:"button",onClick:function(){return function(e){p(e!==g?e:void 0)}(t._id)},className:"mt-4 h-6 text-sm font-sm text-gray-500 border-b border-red-900 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Responder"})}),Object(h.jsx)("div",{className:"flex place-items-end ml-4",children:(null===y||void 0===y?void 0:y._id)===t.creator._id&&Object(h.jsx)("button",{type:"button",onClick:function(){return function(t){ae.deleteThisReview(t).then((function(t){C(),e.ProductId&&(e.loadProduct(),e.loadReviewsFather())})).catch((function(e){return console.log(e)}))}(t._id)},className:"mt-4 h-6  text-sm font-sm text-gray-500 border-b border-red-900 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Borrar"})})]})]}),g===t._id&&Object(h.jsx)(te,{loadReviews:C,user:y,review:t._id})]},t.id),t.comments.length>0&&Object(h.jsx)(se,{comment:t})]})}))})})]})})})})})})})})}function ne(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}var le=new ee,ie=new Z;function oe(e){var t,s,a,c,n,l,o=Object(r.useState)([]),m=Object(i.a)(o,2),u=m[0],x=m[1],j=Object(r.useContext)(X),b=Object(r.useState)(1),g=Object(i.a)(b,2),p=g[0],f=g[1],O=Object(r.useState)(),v=Object(i.a)(O,2),y=v[0],w=v[1],C=Object(r.useState)(),k=Object(i.a)(C,2),F=k[0],S=k[1],U=e.match.params.id,_=0;u.forEach((function(e){return _+=e.rating}));var T={average:Math.floor(_/u.length),totalCount:u.length};Object(r.useEffect)((function(){M(),P(),window.scrollTo(0,0)}),[]);var P=function(){ie.getOneProduct(U).then((function(e){w(y=e.data),S(F=e.data.owner)}))},M=function(){le.getReviewsOhThis(U,"product").then((function(e){x(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsx)("div",{className:"bg-gray-900",children:Object(h.jsxs)("div",{className:"py-6",children:[Object(h.jsxs)("div",{className:"mt-6 max-w-2xl mx-auto sm:px-6 lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-3 lg:gap-x-8",children:[Object(h.jsx)("div",{className:"aspect-w-3 aspect-h-4 overflow-hidden lg:block rounded-lg",children:Object(h.jsx)("img",{src:null===(t=y)||void 0===t?void 0:t.img_url,className:"px-4 w-full lg:h-full h-72 object-center lg:mx-0 lg:px-0 lg:object-contain object-cover mb-6 lg:mb-0 rounded-lg ",alt:"Product"})}),Object(h.jsxs)("div",{className:"lg:col-span-2 lg:pr-8 mx-8 lg:mx-4",children:[Object(h.jsx)("div",{className:"my-6",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("div",{className:"flex items-center",children:[0,1,2,3,4].map((function(e){return Object(h.jsx)(N.f,{className:ne(T.average>e?"text-green-500":"text-gray-200","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},e)}))}),Object(h.jsxs)("p",{className:"sr-only",children:[T.average," en 5 estrellas"]}),Object(h.jsxs)("p",{href:T.href,className:"ml-3 text-sm font-medium text-green-600 ",children:[T.totalCount," comentarios"]})]})}),Object(h.jsx)("h1",{className:"text-2xl font-extrabold tracking-tight text-white sm:text-3xl mb-4",children:null===(s=y)||void 0===s?void 0:s.name}),Object(h.jsx)(d.b,{className:"text-green-600 hover:text-green-500",to:"/seller/".concat(null===(a=F)||void 0===a?void 0:a._id),children:null===(c=F)||void 0===c?void 0:c.username}),Object(h.jsxs)("div",{className:"grid grid-cols-12 gap-4 mb-6 mt-4",children:[Object(h.jsxs)("div",{className:"col-start-1 col-end-5 text-sm text-white",children:["Precio por unidad: ",null===(n=y)||void 0===n?void 0:n.price," \u20ac"]}),(null===j||"User"===(null===j||void 0===j?void 0:j.role))&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"col-end-7 col-span-2",children:Object(h.jsx)("button",{type:"button",onClick:function(){p<=1||f(p-1)},className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500  sm:text-sm",children:"-"})}),Object(h.jsx)("div",{className:"col-end-9 col-span-2 text-center pt-2 text-white",children:p}),Object(h.jsx)("div",{className:"col-end-11 col-span-2",children:Object(h.jsx)("button",{type:"button",onClick:function(){return f(p+1)},className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500  sm:text-sm",children:"+"})})]})]}),(null===j||"User"===(null===j||void 0===j?void 0:j.role))&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"grid grid-cols-6 border-b-2 border-green-500 pb-8",children:Object(h.jsx)("button",{type:"button",onClick:function(){ie.addProductCart(y._id,p).then((function(){e.loadUser(),e.history.push("/products/cart")}))},className:"col-start-3 col-span-3 inline-flex justify-center rounded-md border border-transparent shadow-sm py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:text-sm",children:"A\xf1adir a la cesta"})})}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"space-y-6 mt-8",children:Object(h.jsx)("p",{className:"text-base text-white ",children:null===(l=y)||void 0===l?void 0:l.description})})})]})]}),Object(h.jsx)(ce,{ProductId:U,loadProduct:P,loadReviewsFather:M})]})})}var de=new C;var me=function(e){var t,s=Object(r.useState)(!1),a=Object(i.a)(s,2),c=a[0],n=a[1],l=e.product,o=null===(t=e.product)||void 0===t?void 0:t._id,m=Object(r.useContext)(X);return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"group border-4 border-white rounded-lg",children:[Object(h.jsx)("div",{className:"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-sm overflow-hidden xl:aspect-w-7 xl:aspect-h-8",children:Object(h.jsx)("img",{src:l.img_url,className:"group w-full h-80 object-center object-cover bg-white ",alt:"Product"})}),Object(h.jsxs)("div",{className:"bg-gray-50 p-4",children:[Object(h.jsx)("h3",{className:"mt-4 text-sm text-black ",children:l.name}),Object(h.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[l.price," \u20ac"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(d.b,{to:"/products/".concat(o),children:Object(h.jsx)("button",{type:"button",className:"mt-4 px-2 py-2 border border-transparent  shadow-sm text-sm font-medium rounded-md text-white bg-green-500  hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Detalles de producto"})}),null!==m&&(null===m||void 0===m?void 0:m._id)===(null===e||void 0===e?void 0:e.id)&&Object(h.jsx)("button",{type:"button",onClick:function(){n(!0)},className:"mt-4 ml-10 px-2 shadow-sm text-sm font-medium text-black  border-b-2 border-red-900 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Borrar producto"}),Object(h.jsx)(O.a.Root,{show:c,as:r.Fragment,children:Object(h.jsx)(v.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:n,children:Object(h.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(h.jsx)(O.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(h.jsx)(v.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(h.jsx)(O.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(h.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[Object(h.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:Object(h.jsxs)("button",{type:"button",className:"bg-white rounded-md text-gray-500 hover:text-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:function(){return n(!1)},children:[Object(h.jsx)("span",{className:"sr-only",children:"Close"}),Object(h.jsx)(w.g,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(h.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(h.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(h.jsx)(w.a,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),Object(h.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(h.jsx)(v.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Eliminar producto de la tienda"}),Object(h.jsx)("div",{className:"mt-2",children:Object(h.jsxs)("p",{className:"text-sm text-gray-500",children:["\xbfEstas seguro de que quieres eliminar",Object(h.jsx)("span",{className:"text-black",children:l.name}),"de la tienda? Si acepta se borrara toda la informacion de este producto haciendo esta acci\xf3n irremediable."]})})]})]}),Object(h.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[Object(h.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:function(){return n(!1),de.deleteProductFromSeller(o).then((function(t){e.bringProduct(t.data.products)})),void de.deleteProduct(o).then((function(e){})).catch((function(e){return console.log(e)}))},children:"Borrar producto"}),Object(h.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:function(){return n(!1)},children:"Cancelar"})]})]})})]})})})]})]})]},l._id)})},ue=new C;function xe(e){var t=Object(r.useState)(),s=Object(i.a)(t,2),a=s[0],c=s[1];Object(r.useEffect)((function(){n()}),[]);var n=function(){return ue.getAllProductsFromASeller(e.id).then((function(e){return c(e.data.products)}))},l=function(e){var t=Object(A.a)(a);e&&(t=e),c(t)};return Object(h.jsxs)("div",{className:"max-w-2xl mx-auto pb-8 px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(h.jsx)("h2",{className:"sr-only",children:"Products"}),Object(h.jsx)("div",{className:"grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 xl:grid-cols-3 xl:gap-x-8",children:null===a||void 0===a?void 0:a.map((function(t){return Object(h.jsx)(me,{product:t,id:e.id,bringProduct:l})}))})]})}var je=function e(){var t=this;Object(m.a)(this,e),this.uploadImage=function(e){return t.app.post("/image",e)},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/api/upload")})},be=new C,he=new je;function ge(e){var t,s,a,c,n=Object(r.useState)({username:null===(t=e.seller)||void 0===t?void 0:t.username,email:null===(s=e.seller)||void 0===s?void 0:s.email,password:"",password2:"",description:null===(a=e.seller)||void 0===a?void 0:a.description,address:null===(c=e.seller)||void 0===c?void 0:c.address,img_url:""}),d=Object(i.a)(n,2),m=d[0],u=d[1],x=Object(r.useState)(void 0),j=Object(i.a)(x,2),b=j[0],g=j[1],p=function(e){var t=e.currentTarget,s=t.name,r=t.value;"password2"===e.currentTarget.name&&""!==e.currentTarget.value&&(e.currentTarget.value!==m.password?g("Las contrase\xf1as no coinciden"):g(void 0)),u((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))};return Object(r.useEffect)((function(){}),[m]),Object(h.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(h.jsx)("p",{className:"text-center font-semibold text-lg text-green-800",children:"Editar perfil"}),Object(h.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(t){t.preventDefault(),!b&&be.editSeller(m).then((function(){e.closeModal(),e.loadSeller()})).catch((function(e){return console.log(e)}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nombre de la empresa"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"username",name:"username",type:"text",onChange:p,value:m.username,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de correo"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"email",name:"email",type:"email",onChange:p,value:m.email,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripci\xf3n"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("textarea",{id:"description",rows:6,name:"description",type:"text",onChange:p,value:m.description,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"password",name:"password",type:"password",onChange:p,value:m.password,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password2",className:"block text-sm font-medium text-gray-700",children:"Comprobaci\xf3n de contrase\xf1a"}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsx)("input",{id:"password2",name:"password2",type:"password",onChange:p,value:m.password2,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),b&&Object(h.jsx)("p",{className:"text-red-500",children:b})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de la empresa"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"address",name:"address",type:"text",onChange:p,value:m.address,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{className:"flex justify-center mt-8",children:Object(h.jsxs)("div",{className:"max-w rounded-lg shadow-xl bg-white",children:[Object(h.jsxs)("div",{className:"m-4",children:[!m.img_url&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"inline-block mb-2 text-gray-500",children:"Nueva foto"}),Object(h.jsx)("div",{className:"flex items-center justify-center w-full",children:Object(h.jsxs)("label",{className:"flex flex-col w-full h-32 border-4 border-green-200 border-dashed hover:bg-gray-100 hover:border-gray-300",children:[Object(h.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-gray-400 group-hover:text-gray-600 pt-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Object(h.jsx)("p",{className:"pt-1 text-sm tracking-wider text-gray-400 group-hover:text-gray-600",children:"Sube una foto"})]}),Object(h.jsx)("input",{type:"file",name:"imageData",className:"opacity-0",onChange:function(e){var t=new FormData;t.append("imageData",e.target.files[0]),he.uploadImage(t).then((function(e){u(Object(l.a)(Object(l.a)({},m),{},{img_url:e.data.cloudinary_url}))})).catch((function(e){return console.log("El error",{err:e})}))}})]})})]}),m.img_url&&Object(h.jsx)("img",{className:"object-center object-cover w-32 h-32 text-gray-400 group-hover:text-gray-600 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",src:m.img_url,alt:""})]}),Object(h.jsx)("div",{className:"flex justify-center p-2"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Editar"})})]})})]})}var pe=function e(){var t=this;Object(m.a)(this,e),this.getConversations=function(e){return t.app.get("/".concat(e))},this.getNewConversation=function(e,s){return t.app.post("/?senderId=".concat(e,"&receiverId=").concat(s))},this.findConversation=function(e){return t.app.get("/findConversation/".concat(e))},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/conversation"),withCredentials:!0})},fe=new C,Oe=new ee,ve=new pe;function ye(e){var t=e.loggedUser,s=Object(r.useState)(),a=Object(i.a)(s,2),c=a[0],n=a[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),m=o[0],u=o[1],x=e.match.params.id,j=Object(r.useState)(x),b=Object(i.a)(j,2),g=b[0],p=b[1],f=Object(r.useState)([]),y=Object(i.a)(f,2),w=(y[0],y[1]),N=Object(r.useState)(!1),C=Object(i.a)(N,2),k=C[0],F=C[1],S=Object(r.useState)(!1),U=Object(i.a)(S,2),_=U[0],T=U[1],P=Object(r.useState)(!1),M=Object(i.a)(P,2),L=M[0],E=M[1];Object(r.useEffect)((function(){c||q(),p(x),B(),D()}),[]);var I=function(){return T(!1),F(!0)},R=function(){return T(!0),F(!1)},q=function(){fe.getSeller(x).then((function(e){n(e.data)}))},D=function(){ve.findConversation(x).then((function(e){e.data.length>0&&E(!0)}))},B=function(){Oe.getReviewsOhThis(x,"seller").then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)("div",{className:"bg-gray-900 lg:pb-80",children:[Object(h.jsxs)("div",{className:"lg:flex lg:justify-between mx-auto py-12 px-4 max-w-7xl sm:px-6 lg:px-8 lg:py-24 ",children:[Object(h.jsxs)("div",{className:"lg:flex lg:justify-between my-auto",children:[Object(h.jsx)("img",{className:"h-40 mx-auto lg:my-auto lg:mx-0 w-40 rounded-full xl:w-56 xl:h-56 lg:mr-20  border border-white p-2",src:null===c||void 0===c?void 0:c.img_url,alt:"User"}),Object(h.jsx)("div",{className:"flex lg:justify-between justify-center mt-8",children:Object(h.jsxs)("div",{className:"font-medium text-lg text-center lg:text-left lg:pr-4",children:[Object(h.jsx)("h3",{className:"text-white",children:null===c||void 0===c?void 0:c.username}),Object(h.jsx)("div",{className:"text-green-300 text-sm my-2",children:null===c||void 0===c?void 0:c.email}),Object(h.jsx)("div",{className:"text-green-300 text-sm my-2 max-w-xs ",children:null===c||void 0===c?void 0:c.address}),Object(h.jsx)("div",{className:"text-white text-sm my-2 ",children:null===c||void 0===c?void 0:c.description}),Object(h.jsxs)("div",{children:[(null===t||void 0===t?void 0:t._id)===g?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",onClick:function(){u(!0)},className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Editar perfil"}),Object(h.jsx)("div",{className:"flexlg:block",children:Object(h.jsx)(d.b,{to:"/chat",className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Ver tus chats"})})]}):L?e.loggedUser&&Object(h.jsx)(d.b,{to:"/chat",className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Abre tu conversacion"}):e.loggedUser&&Object(h.jsx)(d.b,{to:"/chat",onClick:function(){ve.getNewConversation(null===t||void 0===t?void 0:t._id,x).then((function(e){console.log(e)}))},className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Conversaci\xf3n con el comprador"}),!1===(k||_)&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"flex lg:block",children:Object(h.jsx)("button",{type:"button",onClick:I,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar productos"})}),Object(h.jsx)("div",{className:"flexlg:block",children:Object(h.jsx)("button",{type:"button",onClick:R,className:"mx-auto h-6 my-4 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar comentarios"})})]}),k?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"flex lg:block",children:Object(h.jsx)("button",{type:"button",onClick:R,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar comentarios"})})}):Object(h.jsx)(h.Fragment,{}),_?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"flex lg:block",children:Object(h.jsx)("button",{type:"button",onClick:I,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar productos"})})}):Object(h.jsx)(h.Fragment,{})]})]})})]}),Object(h.jsx)(O.a.Root,{show:m,as:r.Fragment,children:Object(h.jsx)(v.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto ",onClose:u,children:Object(h.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(h.jsx)(O.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0 ",children:Object(h.jsx)(v.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(h.jsx)("span",{className:" sm:inline-block sm:align-middle sm:h-12","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(O.a.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(h.jsx)(r.Fragment,{children:Object(h.jsx)(ge,{seller:c,loadSeller:q,closeModal:function(){u(!1)}})})})]})})}),Object(h.jsx)("img",{src:null===c||void 0===c?void 0:c.map_img,className:"mx-auto rounded-lg",alt:"map"})]}),k&&Object(h.jsx)(xe,{products:null===c||void 0===c?void 0:c.products,id:x}),_&&Object(h.jsx)(ce,{SellerId:x})]})}var we=Object(r.createContext)(null),Ne=new Z;function Ce(e){var t=Object(r.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useContext)(we),l=n.subtotal,o=n.setSubtotal,m=function(){Ne.getCartProducts().then((function(e){c(e.data.productsCart),o(l=0),e.data.productsCart.forEach((function(e){var t;e.product&&o(Math.round(100*(l+=(null===(t=e.product)||void 0===t?void 0:t.price)*e.quantity))/100)}))}))};return Object(r.useEffect)((function(){m()}),[]),Object(h.jsx)("div",{className:"bg-gray-900",children:Object(h.jsx)("div",{class:"local inset-y-0 right-0 pl-10 pr-10 max-w-full flex pt-10 pb-80 ",children:Object(h.jsx)("div",{class:"w-screen ",children:Object(h.jsxs)("div",{class:"h-full flex flex-col bg-white shadow-xl rounded-3xl",children:[Object(h.jsxs)("div",{class:"flex-1 py-6 overflow-y-auto px-4 sm:px-6",children:[Object(h.jsxs)("div",{class:"flex items-start justify-between",children:[Object(h.jsx)("h2",{class:"text-lg font-medium text-gray-900",id:"slide-over-title",children:"Tu cesta"}),Object(h.jsx)("div",{class:"ml-3 h-7 flex items-center",children:Object(h.jsxs)("button",{type:"button",class:"-m-2 p-2 text-gray-400 hover:text-gray-500",children:[Object(h.jsx)("span",{class:"sr-only",children:"Cerrar panel"}),Object(h.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})]})})]}),Object(h.jsx)("div",{class:"mt-8",children:Object(h.jsx)("div",{class:"flow-root",children:Object(h.jsx)("ul",{class:"-my-6 divide-y divide-gray-200",children:a.map((function(t){var s,r;return t.product&&Object(h.jsxs)("li",{class:"py-6 flex",children:[Object(h.jsx)("div",{class:"flex-shrink-0 w-24 h-24 border border-gray-200 rounded-md overflow-hidden",children:Object(h.jsx)("img",{src:t.product.img_url,alt:"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.",class:"w-full h-full object-center object-cover"})}),Object(h.jsxs)("div",{class:"ml-4 flex-1 flex flex-col",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{class:"flex justify-between text-base font-medium text-gray-900",children:[Object(h.jsx)("h3",{className:"hover:text-green-500",children:Object(h.jsx)(d.b,{to:"/products/".concat(t.product._id),children:t.product.name})}),Object(h.jsxs)("p",{class:"ml-4",children:[t.product.price,"\u20ac"]})]}),Object(h.jsxs)("p",{class:"mt-1 text-sm text-gray-500",children:["Vendedor:",Object(h.jsx)(d.b,{to:"/seller/".concat(null===(s=t.product.owner)||void 0===s?void 0:s._id),class:"mt-1 text-sm text-gray-500 hover:text-green-500",children:null===(r=t.product.owner)||void 0===r?void 0:r.username})]})]}),Object(h.jsxs)("div",{class:"flex-1 flex items-end justify-between ",children:[Object(h.jsxs)("p",{class:"text-gray-500",children:["Cantidad: ",t.quantity]}),Object(h.jsx)("div",{class:"flex",children:Object(h.jsx)("button",{onClick:function(){return s=t._id,void Ne.removeProductCart(s).then((function(){m(),e.loadUser()})).catch((function(e){return console.log(e)}));var s},type:"button",class:"font-medium text-green-600 hover:text-green-500",children:"Eliminar"})})]})]})]},t._id)}))})})})]}),Object(h.jsxs)("div",{class:"border-t border-gray-200 py-6 px-4 sm:px-6",children:[Object(h.jsxs)("div",{class:"flex justify-between text-base font-medium text-gray-900",children:[Object(h.jsx)("p",{children:"Subtotal"}),Object(h.jsxs)("p",{children:[l,"\u20ac"]})]}),Object(h.jsx)("p",{class:"mt-0.5 text-sm text-gray-500",children:"Gastos de envio y de gestion calculados en el coste total."}),Object(h.jsx)("div",{class:"mt-6 flex sm:justify-end justify-center",children:Object(h.jsx)(d.b,{to:"/payment",class:"w-44 flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700",children:"Comprar"})}),Object(h.jsx)("div",{class:"mt-6 flex sm:justify-end justify-center text-sm text-center text-gray-500",children:Object(h.jsxs)("p",{children:["o",Object(h.jsx)(d.b,{to:"/products",children:Object(h.jsxs)("button",{type:"button",class:"text-green-600 font-medium hover:text-green-500 ",children:["Continuar comprando",Object(h.jsx)("span",{"aria-hidden":"true",children:" \u2192"})]})})]})})]})]})})})})}var ke=s(58),Fe=s.n(ke),Se=s(73),Ue=s(40);var _e=function(e){var t=Object(Ue.useStripe)(),s=Object(Ue.useElements)();Object(r.useEffect)((function(){e.loadUser()}),[]);var a=Object(r.useContext)(we).subtotal,c=Object(r.useContext)(X),n=null===c||void 0===c?void 0:c.productsCart,l=new Z,i=function(){var r=Object(Se.a)(Fe.a.mark((function r(c){var n,i,o,d,m;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.next=3,t.createPaymentMethod({type:"card",card:s.getElement(Ue.CardElement)});case 3:if(n=r.sent,i=n.error,o=n.paymentMethod,i){r.next=13;break}return d=o.id,r.next=10,x.a.post("".concat("https://nextdoor-app.herokuapp.com/api","/payment/checkout"),{id:d,amount:100*a});case 10:m=r.sent,m.data&&(l.removeCart(),e.loadUser(),e.history.push("/"));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"h-screen relative bg-gray-800",children:Object(h.jsx)("div",{className:"relative pt-6 pb-10 sm:pb-8 bg-gray-800 lg:pt-28",children:Object(h.jsx)("div",{className:"mt-12 sm:mt-4 bg-gray-800",children:Object(h.jsx)("div",{className:"mx-auto max-w-7xl ",children:Object(h.jsxs)("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8 ",children:[Object(h.jsx)("div",{className:"px-4 sm:px-6 sm:text-center md:max-w-2xl md:mx-auto lg:col-span-6 lg:text-left lg:flex lg:items-center ",children:Object(h.jsx)("div",{class:"h-full flex flex-col bg-white shadow-xl rounded-lg",children:Object(h.jsxs)("div",{class:"flex-1 py-6 overflow-y-auto px-4 sm:px-6",children:[Object(h.jsxs)("div",{class:"flex items-start justify-between ",children:[Object(h.jsx)("h2",{class:"text-lg font-medium text-gray-900",id:"slide-over-title",children:"Tu cesta"}),Object(h.jsx)("div",{class:"ml-3 h-7 flex items-center",children:Object(h.jsxs)("button",{type:"button",class:"-m-2 p-2 text-gray-400 hover:text-gray-500",children:[Object(h.jsx)("span",{class:"sr-only",children:"Cerrar panel"}),Object(h.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})]})}),Object(h.jsx)(d.b,{to:"/products/cart",className:"font-medium text-green-600 hover:text-green-500",children:"Volver a la cesta"})]}),Object(h.jsx)("p",{className:"flex justify-start text-gray-400 text-sm mt-4",children:"Compruebe que su pedido esta completo"}),Object(h.jsx)("div",{class:"mt-8",children:Object(h.jsx)("div",{class:"flow-root",children:Object(h.jsx)("ul",{class:"-my-4 divide-y divide-green-500",children:null===n||void 0===n?void 0:n.map((function(e){return e.product&&Object(h.jsxs)("li",{class:"py-6 flex px-4 rounded-lg my-2 ",children:[Object(h.jsx)("div",{class:"flex-shrink-0 w-24 h-24 rounded-md overflow-hidden border border-black",children:Object(h.jsx)("img",{src:e.product.img_url,alt:"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.",class:"w-full h-full object-center object-cover "})}),Object(h.jsxs)("div",{class:"ml-4 flex-1 flex flex-col",children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{class:"flex justify-between text-base font-medium text-gray-900",children:Object(h.jsx)("h3",{children:e.product.name})})}),Object(h.jsxs)("div",{class:"flex-1 flex items-end justify-between ",children:[Object(h.jsxs)("p",{class:"text-gray-500",children:["Cantidad: ",e.quantity]}),Object(h.jsxs)("p",{class:"ml-4",children:[e.product.price,"\u20ac"]})]})]})]},e._id)}))})})}),Object(h.jsxs)("div",{class:"flex justify-between text-base font-medium text-gray-900 pt-8 border-t-2 border-black",children:[Object(h.jsx)("p",{children:"Subtotal"}),Object(h.jsxs)("p",{children:[a,"\u20ac"]})]})]})})}),Object(h.jsx)("div",{className:"mt-16 sm:mt-22 lg:mt-0 lg:col-span-6 sm:px-10 mx-10",children:Object(h.jsxs)("div",{className:"bg-white sm:max-w-md sm:w-full sm:mx-auto rounded-lg sm:overflow-hidden lg:mt-12 ",children:[Object(h.jsx)("div",{className:"mt-4 sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsx)("div",{className:"bg-white py-2 px-4 shadow rounded-lg ",children:Object(h.jsxs)("form",{className:"space-y-6",onSubmit:i,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Tarjeta"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)(Ue.CardElement,{className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Telefono"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"Direccion de envio",max:13,placeholder:"+34 ... ... ...",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de envio"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"Direccion de envio",value:null===c||void 0===c?void 0:c.address,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Comprar"})})]})})}),Object(h.jsx)("div",{className:"px-4 py-4 bg-gray-50 border-t-2 border-gray-200 sm:px-10 rounded-lg",children:Object(h.jsx)("p",{className:"text-xs leading-5 text-gray-500",children:"Los plazos de entrega ser\xe1n de 1 d\xeda para menos de 50km, 2 d\xedas para m\xe1s de 50km y de 4 a 5 d\xedas para fuera de la pen\xednsula."})})]})})]})})})})})},Te={logged:[{name:"Inicio",href:"/"},{name:"Productos",href:"/products"},{name:"Cesta",href:"/products/cart"},{name:"Creadores",href:"/owners"}],notLogged:[{name:"Inicio",href:"/"},{name:"Login",href:"/login"},{name:"Registrate",href:"/signup"}],social:[{name:"Facebook",href:"#",icon:function(e){return Object(h.jsx)("svg",Object(l.a)(Object(l.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})}))}},{name:"Instagram",href:"https://www.instagram.com/nextdoor_app/",icon:function(e){return Object(h.jsx)("svg",Object(l.a)(Object(l.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(h.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})}))}},{name:"Twitter",href:"#",icon:function(e){return Object(h.jsx)("svg",Object(l.a)(Object(l.a)({fill:"currentColor",viewBox:"0 0 24 24"},e),{},{children:Object(h.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})}))}}]};function Pe(e){return Object(h.jsxs)("footer",{className:"bg-gray-900 pb-8",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 260",children:Object(h.jsx)("path",{fill:"#16a34a","fill-opacity":"1",d:"M0,128L80,112C160,96,320,64,480,90.7C640,117,800,203,960,224C1120,245,1280,203,1360,181.3L1440,160L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z"})}),Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 250",children:Object(h.jsx)("path",{fill:"#16a34a",fillOpacity:"1",d:"M0,96L48,96C96,96,192,96,288,117.3C384,139,480,181,576,202.7C672,224,768,224,864,208C960,192,1056,160,1152,133.3C1248,107,1344,85,1392,74.7L1440,64L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"})}),Object(h.jsxs)("div",{className:"max-w-7xl mx-auto py-2 px-4 overflow-hidden sm:px-6 lg:px-8",children:[Object(h.jsxs)("nav",{className:"-mx-5 -my-2 flex flex-wrap justify-center","aria-label":"Footer",children:[e.loggedUser&&Te.logged.map((function(e){return Object(h.jsx)("div",{className:"px-5",children:Object(h.jsx)(d.b,{to:e.href,className:"text-base text-gray-500 hover:text-green-500",children:e.name})},e.name)})),!e.loggedUser&&Te.notLogged.map((function(e){return Object(h.jsx)("div",{className:"px-5",children:Object(h.jsx)(d.b,{to:e.href,className:"text-base text-gray-500 hover:text-green-500",children:e.name})},e.name)}))]}),Object(h.jsx)("div",{className:"mt-8 flex justify-center space-x-6",children:Te.social.map((function(e){return Object(h.jsxs)("a",{href:e.href,className:"text-gray-400 hover:text-green-500",children:[Object(h.jsx)("span",{className:"sr-only",children:e.name}),Object(h.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})]},e.name)}))}),Object(h.jsx)("p",{className:"mt-8 text-center text-base text-gray-400",children:"\xa9 2021 NextDoor, todos los derechos reservados."})]})]})}var Me=function e(){var t=this;Object(m.a)(this,e),this.editUser=function(e,s,r,a,c,n){return t.app.post("/edit",e,s,r,c,n)},this.getOwner=function(e){return t.app.get("/user/".concat(e))},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/user"),withCredentials:!0})},Le=new Me,Ee=new C;var Ie=function(e){var t=e.user,s=e.conversations,a=Object(r.useState)(),c=Object(i.a)(a,2),n=c[0],l=c[1],o=Object(r.useState)(),d=Object(i.a)(o,2),m=d[0],u=d[1];return Object(r.useEffect)((function(){"User"===(null===t||void 0===t?void 0:t.role)?Ee.getSeller(s.participants[1]).then((function(e){console.log(e),u(e.data)})).catch((function(e){return console.log(e)})):Le.getOwner(s.participants[0]).then((function(e){l(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(h.jsx)("div",{className:"conversation mt-4 hover:bg-gray-100 hover:text-black py-4 pl-4",children:"Seller"===(null===t||void 0===t?void 0:t.role)?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{className:"inline-block h-10 w-10 rounded-full border-2 border-black mr-4",src:null===n||void 0===n?void 0:n.img_url,alt:""}),Object(h.jsx)("span",{children:null===n||void 0===n?void 0:n.username})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{className:"inline-block h-10 w-10 rounded-full border-2 border-black mr-4",src:null===m||void 0===m?void 0:m.img_url,alt:""}),Object(h.jsx)("span",{children:null===m||void 0===m?void 0:m.username})]})})},Re=function e(){var t=this;Object(m.a)(this,e),this.createMessage=function(e,s,r){return t.app.post("/new-message",{text:e,sender:s,conversationId:r})},this.getMessages=function(e){return t.app.get("/".concat(e))},this.app=x.a.create({baseURL:"".concat("https://nextdoor-app.herokuapp.com/api","/message"),withCredentials:!0})};s(111);var qe=function(e){var t;return Object(h.jsx)("div",{className:e.own?"message own":"message",children:Object(h.jsxs)("div",{className:"messageTop my-1 ",children:[!0!==e.own&&Object(h.jsx)("span",{className:"inline-block relative",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full border-2 border-black",src:null===(t=e.userFromFather)||void 0===t?void 0:t.img_url,alt:""})}),Object(h.jsx)("p",{className:"messageText rounded-3xl py-4 px-6 max-w-md ml-4",children:e.message.text})]})})},De=s.p+"static/media/Conversation.7ac32440.png",Be=(s(112),new Me),Ve=new C,He=new pe,ze=new Re;var Ae=function(e){var t,s=e.loggedUser,a=Object(r.useState)([]),c=Object(i.a)(a,2),n=c[0],d=c[1],m=Object(r.useState)(null),u=Object(i.a)(m,2),x=u[0],j=u[1],b=Object(r.useState)([]),g=Object(i.a)(b,2),p=g[0],f=g[1],O=Object(r.useState)(),v=Object(i.a)(O,2),y=v[0],w=v[1],N=Object(r.useState)(),C=Object(i.a)(N,2),k=C[0],F=C[1],S=Object(r.useState)({text:"",sender:null===s||void 0===s?void 0:s._id,conversationId:null===x||void 0===x?void 0:x._id}),U=Object(i.a)(S,2),_=U[0],T=U[1],P=Object(r.useRef)(),M=Object(r.useRef)(),L=Object(r.useState)(null),E=Object(i.a)(L,2),I=E[0],R=E[1],q=function(e){"Seller"===s.role?Be.getOwner(e.participants[0]).then((function(e){w(e.data)})).catch((function(e){return console.log(e)})):Ve.getSeller(e.participants[1]).then((function(e){F(e.data)})).catch((function(e){return console.log(e)})),j(e),ze.getMessages(null===e||void 0===e?void 0:e._id).then((function(e){f(p=e.data)})).catch((function(e){return console.log(e)}))},D=function(e){e.preventDefault(),ze.createMessage(_.text,_.sender,null===x||void 0===x?void 0:x._id).then((function(e){var t=Object(A.a)(p);t.push({text:e.data.text,sender:e.data.sender}),M.current.emit("sendMessageRomm",null===x||void 0===x?void 0:x._id,{senderId:null===s||void 0===s?void 0:s._id,text:_.text}),f(t),T({text:"",sender:null===s||void 0===s?void 0:s._id,conversationId:null===x||void 0===x?void 0:x._id})})).catch((function(e){return console.log(e)}))};return Object(r.useEffect)((function(){He.getConversations(null===s||void 0===s?void 0:s._id).then((function(e){d(e.data)})).catch((function(e){return console.log(e)})),x&&q(x)}),[]),Object(r.useEffect)((function(){M.current=Object(H.a)("".concat("https://nextdoor-app.herokuapp.com"));var e=null===x||void 0===x?void 0:x._id;M.current.on("sentToFront".concat(e),(function(e){R({text:e.text}),x&&q(x)}))}),[x,I]),Object(r.useEffect)((function(){I&&(null===x||void 0===x?void 0:x.participants.includes(I.sender))&&f((function(e){return[].concat(Object(A.a)(e),[I])}))}),[I,x]),Object(r.useEffect)((function(){var e;null===(e=P.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[p]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"messenger",children:[Object(h.jsx)("div",{className:"chatMenu ",children:Object(h.jsx)("div",{className:"chatMenuWrapper border-r-2 border-green-500 mt-2 mr-2  text-white  ",children:null===n||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("div",{onClick:function(){return q(e)},children:Object(h.jsx)(Ie,{conversations:e,user:s})})}))})}),Object(h.jsx)("div",{className:"chatBox pr-6",children:Object(h.jsx)("div",{className:"chatBoxWrapper",children:x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"chatBoxTop border-b-2 border-green-500",children:[Object(h.jsxs)("svg",{width:"205",id:"logoBackgorund",height:"78",viewBox:"0 0 205 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.5 31.5C22.5 22.6634 29.6634 15.5 38.5 15.5C47.3366 15.5 54.5 22.6634 54.5 31.5V57H49.5V31.5C49.5 25.4249 44.5751 20.5 38.5 20.5C32.4249 20.5 27.5 25.4249 27.5 31.5V57H22.5V31.5Z",fill:"white"}),Object(h.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M49.5 57V62H27.5002C27.5001 62 27.5 62 27.5 59.5C27.5 57 27.5001 57 27.5002 57H49.5Z",fill:"white"}),Object(h.jsx)("path",{d:"M46 40.5C46 42.1569 44.6569 43.5 43 43.5C41.3431 43.5 40 42.1569 40 40.5C40 38.8431 41.3431 37.5 43 37.5C44.6569 37.5 46 38.8431 46 40.5Z",fill:"white"}),Object(h.jsx)("path",{d:"M78.7675 48L72.355 37.5825H72.2875L72.3775 48H68.6425V32.07H73.03L79.42 42.465H79.4875L79.3975 32.07H83.1325V48H78.7675ZM93.9334 41.115C93.9334 40.53 93.7459 40.0275 93.3709 39.6075C93.0109 39.1875 92.4634 38.9775 91.7284 38.9775C91.3684 38.9775 91.0384 39.0375 90.7384 39.1575C90.4384 39.2625 90.1759 39.4125 89.9509 39.6075C89.7259 39.8025 89.5459 40.035 89.4109 40.305C89.2759 40.56 89.2009 40.83 89.1859 41.115H93.9334ZM97.3309 42.5325C97.3309 42.6825 97.3309 42.8325 97.3309 42.9825C97.3309 43.1325 97.3234 43.275 97.3084 43.41H89.1859C89.2159 43.725 89.3059 44.01 89.4559 44.265C89.6209 44.52 89.8234 44.745 90.0634 44.94C90.3184 45.12 90.5959 45.2625 90.8959 45.3675C91.2109 45.4725 91.5334 45.525 91.8634 45.525C92.4484 45.525 92.9434 45.42 93.3484 45.21C93.7534 44.985 94.0834 44.7 94.3384 44.355L96.9034 45.975C96.3784 46.74 95.6809 47.3325 94.8109 47.7525C93.9559 48.1575 92.9584 48.36 91.8184 48.36C90.9784 48.36 90.1834 48.2325 89.4334 47.9775C88.6834 47.7075 88.0234 47.325 87.4534 46.83C86.8984 46.32 86.4559 45.6975 86.1259 44.9625C85.8109 44.2275 85.6534 43.3875 85.6534 42.4425C85.6534 41.5275 85.8109 40.7025 86.1259 39.9675C86.4409 39.2175 86.8684 38.5875 87.4084 38.0775C87.9484 37.5525 88.5859 37.1475 89.3209 36.8625C90.0559 36.5775 90.8509 36.435 91.7059 36.435C92.5309 36.435 93.2884 36.5775 93.9784 36.8625C94.6684 37.1325 95.2609 37.53 95.7559 38.055C96.2509 38.58 96.6334 39.2175 96.9034 39.9675C97.1884 40.7175 97.3309 41.5725 97.3309 42.5325ZM106.764 48L104.356 44.5575L101.881 48H97.6063L102.084 42.1275L98.0338 36.795H102.331L104.424 39.7875L106.539 36.795H110.701L106.674 42.1275L111.106 48H106.764ZM116.478 39.5625V43.8375C116.478 44.3625 116.576 44.76 116.771 45.03C116.981 45.285 117.348 45.4125 117.873 45.4125C118.053 45.4125 118.241 45.3975 118.436 45.3675C118.646 45.3375 118.818 45.2925 118.953 45.2325L118.998 47.9325C118.743 48.0225 118.421 48.0975 118.031 48.1575C117.641 48.2325 117.251 48.27 116.861 48.27C116.111 48.27 115.481 48.18 114.971 48C114.461 47.805 114.048 47.535 113.733 47.19C113.433 46.83 113.216 46.41 113.081 45.93C112.946 45.435 112.878 44.8875 112.878 44.2875V39.5625H111.078V36.795H112.856V33.8475H116.478V36.795H119.111V39.5625H116.478ZM141.545 39.99C141.545 41.385 141.282 42.5925 140.757 43.6125C140.247 44.6175 139.565 45.45 138.71 46.11C137.87 46.755 136.917 47.235 135.852 47.55C134.787 47.85 133.707 48 132.612 48H126.672V32.07H132.432C133.557 32.07 134.667 32.205 135.762 32.475C136.857 32.73 137.832 33.165 138.687 33.78C139.542 34.38 140.232 35.19 140.757 36.21C141.282 37.23 141.545 38.49 141.545 39.99ZM137.54 39.99C137.54 39.09 137.39 38.3475 137.09 37.7625C136.805 37.1625 136.415 36.69 135.92 36.345C135.44 35.985 134.885 35.73 134.255 35.58C133.64 35.43 133.002 35.355 132.342 35.355H130.43V44.67H132.252C132.942 44.67 133.602 44.595 134.232 44.445C134.877 44.28 135.44 44.0175 135.92 43.6575C136.415 43.2975 136.805 42.8175 137.09 42.2175C137.39 41.6175 137.54 40.875 137.54 39.99ZM155.774 42.3525C155.774 43.2675 155.609 44.1 155.279 44.85C154.949 45.585 154.499 46.215 153.929 46.74C153.359 47.25 152.699 47.6475 151.949 47.9325C151.199 48.2175 150.397 48.36 149.542 48.36C148.702 48.36 147.899 48.2175 147.134 47.9325C146.384 47.6475 145.724 47.25 145.154 46.74C144.599 46.215 144.157 45.585 143.827 44.85C143.497 44.1 143.332 43.2675 143.332 42.3525C143.332 41.4375 143.497 40.6125 143.827 39.8775C144.157 39.1425 144.599 38.52 145.154 38.01C145.724 37.5 146.384 37.11 147.134 36.84C147.899 36.57 148.702 36.435 149.542 36.435C150.397 36.435 151.199 36.57 151.949 36.84C152.699 37.11 153.359 37.5 153.929 38.01C154.499 38.52 154.949 39.1425 155.279 39.8775C155.609 40.6125 155.774 41.4375 155.774 42.3525ZM152.219 42.3525C152.219 41.9925 152.159 41.64 152.039 41.295C151.919 40.95 151.747 40.65 151.522 40.395C151.297 40.125 151.019 39.9075 150.689 39.7425C150.359 39.5775 149.977 39.495 149.542 39.495C149.107 39.495 148.724 39.5775 148.394 39.7425C148.064 39.9075 147.787 40.125 147.562 40.395C147.352 40.65 147.187 40.95 147.067 41.295C146.962 41.64 146.909 41.9925 146.909 42.3525C146.909 42.7125 146.962 43.065 147.067 43.41C147.187 43.755 147.359 44.07 147.584 44.355C147.809 44.625 148.087 44.8425 148.417 45.0075C148.747 45.1725 149.129 45.255 149.564 45.255C149.999 45.255 150.382 45.1725 150.712 45.0075C151.042 44.8425 151.319 44.625 151.544 44.355C151.769 44.07 151.934 43.755 152.039 43.41C152.159 43.065 152.219 42.7125 152.219 42.3525ZM169.99 42.3525C169.99 43.2675 169.825 44.1 169.495 44.85C169.165 45.585 168.715 46.215 168.145 46.74C167.575 47.25 166.915 47.6475 166.165 47.9325C165.415 48.2175 164.613 48.36 163.758 48.36C162.918 48.36 162.115 48.2175 161.35 47.9325C160.6 47.6475 159.94 47.25 159.37 46.74C158.815 46.215 158.373 45.585 158.043 44.85C157.713 44.1 157.548 43.2675 157.548 42.3525C157.548 41.4375 157.713 40.6125 158.043 39.8775C158.373 39.1425 158.815 38.52 159.37 38.01C159.94 37.5 160.6 37.11 161.35 36.84C162.115 36.57 162.918 36.435 163.758 36.435C164.613 36.435 165.415 36.57 166.165 36.84C166.915 37.11 167.575 37.5 168.145 38.01C168.715 38.52 169.165 39.1425 169.495 39.8775C169.825 40.6125 169.99 41.4375 169.99 42.3525ZM166.435 42.3525C166.435 41.9925 166.375 41.64 166.255 41.295C166.135 40.95 165.963 40.65 165.738 40.395C165.513 40.125 165.235 39.9075 164.905 39.7425C164.575 39.5775 164.193 39.495 163.758 39.495C163.323 39.495 162.94 39.5775 162.61 39.7425C162.28 39.9075 162.003 40.125 161.778 40.395C161.568 40.65 161.403 40.95 161.283 41.295C161.178 41.64 161.125 41.9925 161.125 42.3525C161.125 42.7125 161.178 43.065 161.283 43.41C161.403 43.755 161.575 44.07 161.8 44.355C162.025 44.625 162.303 44.8425 162.633 45.0075C162.963 45.1725 163.345 45.255 163.78 45.255C164.215 45.255 164.598 45.1725 164.928 45.0075C165.258 44.8425 165.535 44.625 165.76 44.355C165.985 44.07 166.15 43.755 166.255 43.41C166.375 43.065 166.435 42.7125 166.435 42.3525ZM179.594 39.81C179.429 39.765 179.264 39.735 179.099 39.72C178.949 39.705 178.799 39.6975 178.649 39.6975C178.154 39.6975 177.734 39.7875 177.389 39.9675C177.059 40.1475 176.789 40.365 176.579 40.62C176.384 40.875 176.242 41.1525 176.152 41.4525C176.062 41.7525 176.017 42.015 176.017 42.24V48H172.327V36.795H175.882V38.415H175.927C176.212 37.845 176.617 37.38 177.142 37.02C177.667 36.66 178.274 36.48 178.964 36.48C179.114 36.48 179.257 36.4875 179.392 36.5025C179.542 36.5175 179.662 36.54 179.752 36.57L179.594 39.81Z",fill:"white"}),Object(h.jsx)("path",{d:"M147.5 51L148.013 51.4861C152.974 56.1861 160.808 55.9683 165.5 51V51",stroke:"white","stroke-width":"3"})]}),null===(t=p)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("div",{ref:P,children:"User"===(null===s||void 0===s?void 0:s.role)?Object(h.jsx)(qe,{userFromFather:k,message:e,own:e.sender===(null===s||void 0===s?void 0:s._id)}):Object(h.jsx)(qe,{userFromFather:y,message:e,own:e.sender===(null===s||void 0===s?void 0:s._id)})})}))]}),Object(h.jsx)("div",{className:"chatBoxBottom mt-4 ",children:Object(h.jsx)("form",{onSubmit:D,children:Object(h.jsxs)("div",{className:"flex justify-between",children:[Object(h.jsx)("textarea",{onKeyDown:function(e){return"Enter"===e.key&&D(e)},className:"chatMessageInput pl-2 pt-1 w-full rounded-md border border-gray-500 focus:outline-none focus:ring-2 focus:border-green-500 focus:ring-green-500",rows:2,onChange:function(e){var t=e.currentTarget,s=t.name,r=t.value;T((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))},type:"text",value:_.text,name:"text"}),Object(h.jsx)("button",{type:"submit",className:"chatSubmitButton h-8 lg:ml-4 my-auto inline-flex items-center px-4 py-2 border border-black shadow-sm text-sm font-medium rounded-md text-black bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 hover:bg-green-500 hover:text-white hover:border-white",children:"Enviar"})]})})})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:De,id:"ConversationBackgorund"}),Object(h.jsx)("p",{className:"text-white text-4xl mx-auto",id:"ConversationSpan",children:"Empieza una conversacion..."})]})})})]})})},Ze=s(74),We=s(13),Ke=new Me,Ge=new je;function Je(e){var t=Object(r.useState)({username:e.user.username,email:e.user.email,password:"",password2:"",address:e.user.address,img_url:""}),s=Object(i.a)(t,2),a=s[0],c=s[1],n=Object(r.useState)(void 0),d=Object(i.a)(n,2),m=d[0],u=d[1],x=function(e){var t=e.currentTarget,s=t.name,r=t.value;"password2"===e.currentTarget.name&&""!==e.currentTarget.value&&(e.currentTarget.value!==a.password?u("Las contrase\xf1as no coinciden"):u(void 0)),c((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(o.a)({},s,r))}))};return Object(r.useEffect)((function(){}),[a]),Object(h.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",children:[Object(h.jsx)("p",{className:"text-center font-semibold text-lg text-green-800",children:"Editar perfil"}),Object(h.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(h.jsxs)("form",{className:"space-y-6",onSubmit:function(){!m&&Ke.editUser(a).then((function(){e.loadUser()})).catch((function(e){return console.log(e)}))},children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Nombre de usuario"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"username",name:"username",type:"text",onChange:x,value:a.username,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de correo"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"email",name:"email",type:"email",onChange:x,value:a.email,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"password",name:"password",type:"password",onChange:x,value:a.password,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"password2",className:"block text-sm font-medium text-gray-700",children:"Comprobaci\xf3n de contrase\xf1a"}),Object(h.jsxs)("div",{className:"mt-1",children:[Object(h.jsx)("input",{id:"password2",name:"password2",type:"password",onChange:x,value:a.password2,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"}),m&&Object(h.jsx)("p",{className:"text-red-500",children:m})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Direcci\xf3n de envio"}),Object(h.jsx)("div",{className:"mt-1",children:Object(h.jsx)("input",{id:"address",name:"address",type:"text",onChange:x,value:a.address,required:!0,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"})})]}),Object(h.jsx)("div",{className:"flex justify-center mt-8",children:Object(h.jsxs)("div",{className:"max-w rounded-lg shadow-xl bg-white",children:[Object(h.jsxs)("div",{className:"m-4",children:[!a.img_url&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{className:"inline-block mb-2 text-gray-500",children:"Nueva foto"}),Object(h.jsx)("div",{className:"flex items-center justify-center w-full",children:Object(h.jsxs)("label",{className:"flex flex-col w-full h-32 border-4 border-green-200 border-dashed hover:bg-gray-100 hover:border-gray-300",children:[Object(h.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-gray-400 group-hover:text-gray-600 pt-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),Object(h.jsx)("p",{className:"pt-1 text-sm tracking-wider text-gray-400 group-hover:text-gray-600",children:"Sube una foto"})]}),Object(h.jsx)("input",{type:"file",name:"imageData",className:"opacity-0",onChange:function(e){var t=new FormData;t.append("imageData",e.target.files[0]),Ge.uploadImage(t).then((function(e){c(Object(l.a)(Object(l.a)({},a),{},{img_url:e.data.cloudinary_url}))})).catch((function(e){return console.log("El error",{err:e})}))}})]})})]}),a.img_url&&Object(h.jsx)("img",{className:"object-center object-cover w-32 h-32 text-gray-400 group-hover:text-gray-600 rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",src:a.img_url,alt:""})]}),Object(h.jsx)("div",{className:"flex justify-center p-2"})]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Editar"})})]})})]})}function Xe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(Boolean).join(" ")}var Ye=new ee;function Qe(e){var t=Object(r.useState)([]),s=Object(i.a)(t,2),a=s[0],c=s[1];Object(r.useEffect)((function(){n()}),[]);var n=function(){Ye.getReviewsOfThisUser(e.id).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"min-h-full",children:Object(h.jsx)("div",{className:"pb-10",children:Object(h.jsx)("div",{className:"mt-8 max-w-3xl mx-auto grid grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense",children:Object(h.jsx)("div",{className:"space-y-6 lg:col-start-1 lg:col-span-2",children:Object(h.jsx)("section",{"aria-labelledby":"notes-title",children:Object(h.jsx)("div",{className:"bg-white shadow rounded-lg sm:overflow-hidden",children:Object(h.jsxs)("div",{className:"divide-y divide-gray-200",children:[Object(h.jsx)("div",{className:"px-4 py-5 sm:px-6",children:Object(h.jsx)("h2",{id:"notes-title",className:"text-lg font-medium text-gray-900",children:"Comentarios del usuario"})}),Object(h.jsx)("div",{className:"px-4 py-6 sm:px-6",children:Object(h.jsx)("ul",{className:"space-y-8",children:a.map((function(t){var s,r,a;return Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"flex space-x-3 justify-between",children:[Object(h.jsx)("div",{className:"flex",children:Object(h.jsxs)("div",{className:" ml-2",children:[Object(h.jsxs)("div",{className:"lg:col-span-2 lg:pr-8 mx-4 my-2 ",children:[void 0!==t.product&&Object(h.jsxs)("div",{className:"pb-2",children:["Comentaste en",Object(h.jsx)(d.b,{to:"/products/".concat(null===t||void 0===t||null===(s=t.product)||void 0===s?void 0:s._id),className:"text-green-400 hover:text-green-500",children:null===(r=t.product)||void 0===r?void 0:r.name})]}),void 0!==t.seller&&Object(h.jsxs)("div",{className:"pb-2",children:["Comentaste en:",Object(h.jsx)(d.b,{to:"/products/".concat(t.seller._id),className:"text-green-400 hover:text-green-500",children:t.seller.username})]}),Object(h.jsx)("div",{className:"flex items-center",children:Object(h.jsx)("div",{className:"flex items-center ",children:[0,1,2,3,4].map((function(e){return Object(h.jsx)(N.f,{className:Xe(t.rating>e?"text-green-500":"text-gray-200","h-5 w-5 flex-shrink-0"),"aria-hidden":"true"},e)}))})})]}),Object(h.jsx)("div",{className:"mt-1 mx-5 text-sm text-gray-700",children:Object(h.jsx)("p",{children:t.description})})]})}),Object(h.jsx)("div",{className:"flex place-items-end",children:(null===(a=e.loggedUser)||void 0===a?void 0:a._id)===t.creator._id&&Object(h.jsx)("button",{type:"button",onClick:function(){return e=t._id,void Ye.deleteThisReview(e).then((function(e){n()})).catch((function(e){return console.log(e)}));var e},className:"mt-4 h-6 text-sm font-sm text-gray-300 border-b border-red-900 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Borrar"})})]})},t.id)}))})})]})})})})})})})})}var $e=new ee,et=new Me;function tt(e){var t=e.loggedUser,s=Object(r.useState)(!1),a=Object(i.a)(s,2),c=a[0],n=a[1],l=Object(r.useState)(!1),o=Object(i.a)(l,2),m=o[0],u=o[1],x=Object(r.useState)(e.match.params.id),j=Object(i.a)(x,2),b=j[0],g=j[1],p=Object(r.useState)(),f=Object(i.a)(p,2),y=f[0],w=f[1],N=Object(r.useState)([]),C=Object(i.a)(N,2),k=(C[0],C[1]);e.location.search="",Object(r.useEffect)((function(){_(),g(e.match.params.id),U()}),[]),Object(r.useEffect)((function(){g(e.match.params.id),_(),U()}),[e.match.params.id]);var F=function(){return u(!0)},S=function(){return u(!1)},U=function(){$e.getReviewsOfThisUser(e.match.params.id).then((function(e){k(e.data)})).catch((function(e){return console.log(e)}))},_=function(){et.getOwner(e.match.params.id).then((function(e){w(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"bg-gray-900 lg:pb-80",children:[Object(h.jsxs)("div",{className:"lg:flex lg:justify-between mx-auto py-12 px-4 max-w-7xl sm:px-6 lg:px-8 lg:py-24 ",children:[Object(h.jsxs)("div",{className:"lg:flex lg:justify-between my-auto ",children:[Object(h.jsx)("img",{className:"h-40 mx-auto lg:mx-0 w-40 rounded-full xl:w-56 xl:h-56 lg:mr-20 my-auto border border-white p-2",src:null===y||void 0===y?void 0:y.img_url,alt:"User"}),Object(h.jsx)("div",{className:"flex lg:justify-between justify-center mt-8 ",children:Object(h.jsxs)("div",{className:"font-medium text-lg lg:text-start text-center lg:text-left ",children:[Object(h.jsxs)("h3",{className:"text-white",children:["Nombre de Usuario: ",Object(h.jsx)("p",{children:null===y||void 0===y?void 0:y.username})]}),Object(h.jsxs)("div",{className:"text-white text-sm my-2",children:["Email:",Object(h.jsx)("div",{className:"text-green-300 text-sm my-2",children:null===y||void 0===y?void 0:y.email})]}),(null===t||void 0===t?void 0:t._id)===b&&Object(h.jsxs)("div",{className:"text-green-300 text-sm my-2 max-w-sm ",children:[Object(h.jsx)("div",{className:"text-white pb-3 pt-3",children:" Direccion:"}),Object(h.jsxs)("div",{children:[" ",null===y||void 0===y?void 0:y.address]})]}),(null===t||void 0===t?void 0:t._id)===b?Object(h.jsxs)("div",{className:"flex lg:justify-between justify-center grid grid-col-1 text-center ",children:[Object(h.jsx)("button",{type:"button",onClick:function(){n(!0)},className:"mx-auto my-4 h-6 text-sm font-medium lg:mx-0 lg:text-left lg:w-20 text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Editar perfil"}),Object(h.jsx)(d.b,{to:"/chat",className:"mx-auto my-4 h-6 text-sm font-medium lg:mx-0 lg:text-left lg:w-24 text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Ver tus chats"}),!1===m?Object(h.jsx)("button",{type:"button",onClick:F,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar mis comentarios"}):Object(h.jsx)("button",{type:"button",onClick:S,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Cerrar mis comentarios"})]}):Object(h.jsx)("div",{className:"flex justify-between lg:grid mx-auto",children:!1===m?Object(h.jsx)("button",{type:"button",onClick:F,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Mostrar comentarios"}):Object(h.jsx)("button",{type:"button",onClick:S,className:"mx-auto my-4 h-6 text-sm font-medium  text-gray-300 border-b border-green-600 transition duration-500 ease-in-out transform hover:scale-90 hover:translate-y-1",children:"Cerrar comentarios"})}),Object(h.jsx)(O.a.Root,{show:c,as:r.Fragment,children:Object(h.jsx)(v.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto ",onClose:n,children:Object(h.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(h.jsx)(O.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0 ",children:Object(h.jsx)(v.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(h.jsx)("span",{className:" sm:inline-block sm:align-middle sm:h-12","aria-hidden":"true",children:"\u200b"}),Object(h.jsx)(O.a.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(h.jsx)(r.Fragment,{children:Object(h.jsx)(Je,{user:t,loadUser:e.loadUser})})})]})})})]})})]}),(null===t||void 0===t?void 0:t._id)===b&&Object(h.jsx)("img",{src:null===y||void 0===y?void 0:y.map_img,className:"mx-auto rounded-lg",alt:""})]}),m?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(Qe,{id:b,loggedUser:e.loggedUser})}):Object(h.jsx)(h.Fragment,{})]})})}var st=s.p+"static/media/HomeFarmer.573c5976.jpg",rt=s.p+"static/media/HomeTruck.e89d96cf.jpg",at=s.p+"static/media/HeaderPhoto.7f19171c.jpg",ct=s.p+"static/media/Dani.bb68dd17.jpg",nt=s.p+"static/media/Alvaro.1a7ad4a3.jpg",lt=[{name:"Vendedores por toda Espa\xf1a",description:"Da igual el punto en el que te encuentres de Espa\xf1a, alli habra un vendedor de NextDoor.",icon:w.b},{name:"Sin comisiones ocultas",description:"La confianza de nuestros usuarios y vendedores es importante, no hay comisiones ocultas.",icon:w.e},{name:"Transacciones instantaneas",description:"Con la ultima tecnolog\xeda en nuestra pasarela de pago, vuestras transacciones seran instantaneas ",icon:w.c}];function it(e){var t=e.loggedUser;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"bg-gray-900",children:Object(h.jsxs)("div",{className:"max-w-7xl mx-auto py-16  sm:py-24 lg:px-8",children:[Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("p",{className:" text-4xl font-extrabold text-white sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Toma el control, apoya el comercio local"}),Object(h.jsx)("h2",{className:"mt-6 text-base font-semibold text-green-600 tracking-wide uppercase",children:"Comercio de cercan\xeda"}),Object(h.jsx)("img",{className:"hidden lg:block h-32 w-auto mx-auto mt-2",src:S,alt:"Workflow"}),Object(h.jsx)("p",{className:"max-w-xl mt-5 mx-auto text-xl text-white",children:"Empieza a comprar productos frescos, de las tiendas de tu barrio, donde tus padres iban a comprar cuando eras peque\xf1o."})]}),Object(h.jsx)("div",{className:"relative w-full h-64 sm:h-72 md:h-96 mt-8 lg:h-96",children:Object(h.jsx)("img",{className:"relative inset-0 w-full h-full object-cover lg:rounded-2xl",src:at})})]})}),Object(h.jsx)("div",{className:"relative bg-gray-900",children:Object(h.jsxs)("div",{className:"lg:relative",children:[Object(h.jsx)("div",{className:"mx-auto max-w-7xl w-full lg:pt-16 pb-20 text-center lg:py-48 lg:text-left",children:Object(h.jsxs)("div",{className:"px-4 lg:w-1/2 sm:px-8 xl:pr-16",children:[Object(h.jsxs)("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl lg:text-5xl xl:text-6xl",children:[Object(h.jsx)("span",{className:"block xl:inline",children:"Productos de cercan\xeda "})," ",Object(h.jsx)("span",{className:"block text-green-500 xl:inline",children:"en la puerta de al lado"})]}),Object(h.jsx)("p",{className:"mt-3 max-w-md mx-auto text-lg text-white sm:text-xl md:mt-5 md:max-w-3xl",children:"Adquiere los productos m\xe1s naturales en menos de dos d\xedas en la puerta de tu casa o \xfanete a nosotros como vendedor."}),Object(h.jsxs)("div",{className:"mt-10 sm:flex sm:justify-center lg:justify-start",children:[Object(h.jsx)("div",{className:"rounded-md shadow",children:Object(h.jsx)(d.b,{to:"/products",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-green-600 hover:bg-green-700 md:py-4 md:text-lg md:px-10",children:"\xa1Compremos!"})}),!t&&Object(h.jsx)("div",{className:"mt-3 rounded-md shadow sm:mt-0 sm:ml-3",children:Object(h.jsx)(d.b,{to:"/signUp",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-green-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10",children:"\xa1Unete!"})})]})]})}),Object(h.jsx)("div",{className:"relative w-full h-64 sm:h-72 md:h-96 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 lg:h-full",children:Object(h.jsx)("img",{className:"relative inset-0 w-full h-full object-cover rounded-tl-lg",src:st})})]})}),Object(h.jsxs)("div",{className:"relative bg-gray-900 mb-4",children:[Object(h.jsx)("div",{className:"lg:h-56 bg-white-600 lg:absolute lg:left-0 lg:h-full lg:w-1/2",children:Object(h.jsx)("img",{className:"w-full h-full object-cover hidden lg:flex rounded-br-lg",src:rt,alt:"Support team"})}),Object(h.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 py-8 sm:py-12 sm:px-6 lg:py-16",children:Object(h.jsxs)("div",{className:"max-w-2xl mx-auto lg:max-w-none lg:mr-0 lg:ml-auto lg:w-1/2 lg:pl-10",children:[Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:Object(h.jsx)(w.f,{className:"h-6 w-6","aria-hidden":"true"})})}),Object(h.jsxs)("h2",{className:"mt-6 text-3xl font-extrabold text-white sm:text-4xl",children:[Object(h.jsx)("span",{className:"block text-green-500 xl:inline",children:"Enviando a tiempo"}),Object(h.jsx)("span",{className:"block  xl:inline",children:"todos los productos que nuestros clientes necesitan."})]}),Object(h.jsx)("p",{className:"mt-6 text-lg text-white",children:"Productos frescos, naturales y ecol\xf3gicos de vendedores cercanos a tu casa con precios competitivos y acordes al mercado,lo que nuestros clientes demandan."}),Object(h.jsx)("div",{className:"mt-8 overflow-hidden",children:Object(h.jsxs)("dl",{className:"-mx-8 -mt-8 flex flex-wrap",children:[Object(h.jsxs)("div",{className:"flex flex-col px-8 pt-8",children:[Object(h.jsx)("dt",{className:"order-2 text-base font-medium text-white",children:"Envios"}),Object(h.jsx)("dd",{className:"order-1 text-2xl font-extrabold text-green-500 sm:text-3xl",children:"24/7"})]}),Object(h.jsxs)("div",{className:"flex flex-col px-8 pt-8",children:[Object(h.jsx)("dt",{className:"order-2 text-base font-medium text-white",children:"Satisfacci\xf3n"}),Object(h.jsx)("dd",{className:"order-1 text-2xl font-extrabold text-green-500 sm:text-3xl",children:"99.9%"})]}),Object(h.jsxs)("div",{className:"flex flex-col px-8 pt-8",children:[Object(h.jsx)("dt",{className:"order-2 text-base font-medium text-white",children:"Usuarios"}),Object(h.jsx)("dd",{className:"order-1 text-2xl font-extrabold text-green-500 sm:text-3xl",children:"+500"})]})]})})]})})]}),Object(h.jsx)("section",{className:"bg-green-700 lg:mb-4",children:Object(h.jsxs)("div",{className:"max-w-7xl mx-auto md:grid md:grid-cols-2 md:px-6 lg:px-8",children:[Object(h.jsxs)("div",{className:"py-12 px-4 sm:px-6 md:flex md:flex-col md:py-16 md:pl-0 md:pr-10 md:border-r md:border-green-900 lg:pr-16",children:[Object(h.jsx)("div",{className:"md:flex-shrink-0",children:Object(h.jsx)("img",{className:"h-16",src:S,alt:"Tuple"})}),Object(h.jsxs)("blockquote",{className:"mt-6 md:flex-grow md:flex md:flex-col",children:[Object(h.jsxs)("div",{className:"relative text-lg font-medium text-white md:flex-grow",children:[Object(h.jsx)("svg",{className:"absolute top-0 left-0 transform -translate-x-3 -translate-y-2 h-8 w-8 text-green-600",fill:"currentColor",viewBox:"0 0 32 32","aria-hidden":"true",children:Object(h.jsx)("path",{d:"M9.352 4C4.456 7.456 1 13.12 1 19.36c0 5.088 3.072 8.064 6.624 8.064 3.36 0 5.856-2.688 5.856-5.856 0-3.168-2.208-5.472-5.088-5.472-.576 0-1.344.096-1.536.192.48-3.264 3.552-7.104 6.624-9.024L9.352 4zm16.512 0c-4.8 3.456-8.256 9.12-8.256 15.36 0 5.088 3.072 8.064 6.624 8.064 3.264 0 5.856-2.688 5.856-5.856 0-3.168-2.304-5.472-5.184-5.472-.576 0-1.248.096-1.44.192.48-3.264 3.456-7.104 6.528-9.024L25.864 4z"})}),Object(h.jsx)("p",{className:"relative",children:"Esta idea empez\xf3 como un proyecto en Ironhack, a d\xeda de hoy,ya ayudamos a m\xe1s de 500 vendedores. Este es el inicio de una nueva generaci\xf3n para el comercio de cercan\xeda."})]}),Object(h.jsx)("footer",{className:"mt-8",children:Object(h.jsxs)("div",{className:"flex items-start",children:[Object(h.jsx)("div",{className:"flex-shrink-0 inline-flex rounded-full border-2 border-white",children:Object(h.jsx)("img",{className:"h-12 w-12 rounded-full",src:ct,alt:""})}),Object(h.jsxs)("div",{className:"ml-4",children:[Object(h.jsx)("div",{className:"text-base font-medium text-white",children:"Daniel Villaca\xf1as"}),Object(h.jsx)("div",{className:"text-base font-medium text-green-200",children:"CEO & Co-Founder, NextDoor"})]})]})})]})]}),Object(h.jsxs)("div",{className:"py-12 px-4 border-t-2 border-green-900 sm:px-6 md:py-16 md:pr-0 md:pl-10 md:border-t-0 md:border-l lg:pl-16",children:[Object(h.jsx)("div",{className:"md:flex-shrink-0",children:Object(h.jsx)("img",{className:"h-16",src:S,alt:"Workcation"})}),Object(h.jsxs)("blockquote",{className:"mt-6 md:flex-grow md:flex md:flex-col",children:[Object(h.jsxs)("div",{className:"relative text-lg font-medium text-white md:flex-grow",children:[Object(h.jsx)("svg",{className:"absolute top-0 left-0 transform -translate-x-3 -translate-y-2 h-8 w-8 text-green-600",fill:"currentColor",viewBox:"0 0 32 32",children:Object(h.jsx)("path",{d:"M9.352 4C4.456 7.456 1 13.12 1 19.36c0 5.088 3.072 8.064 6.624 8.064 3.36 0 5.856-2.688 5.856-5.856 0-3.168-2.208-5.472-5.088-5.472-.576 0-1.344.096-1.536.192.48-3.264 3.552-7.104 6.624-9.024L9.352 4zm16.512 0c-4.8 3.456-8.256 9.12-8.256 15.36 0 5.088 3.072 8.064 6.624 8.064 3.264 0 5.856-2.688 5.856-5.856 0-3.168-2.304-5.472-5.184-5.472-.576 0-1.248.096-1.44.192.48-3.264 3.456-7.104 6.528-9.024L25.864 4z"})}),Object(h.jsx)("p",{className:"relative",children:"Nos juntamos, decidimos la idea que quer\xedamos hacer y nos pus\xedmos a ello. Ahora, muchos de nuestros clientes nos escriben para agradecernos la iniciativa, y esto solo acaba de empezar."})]}),Object(h.jsx)("footer",{className:"mt-8",children:Object(h.jsxs)("div",{className:"flex items-start",children:[Object(h.jsx)("div",{className:"flex-shrink-0 inline-flex rounded-full border-2 border-white",children:Object(h.jsx)("img",{className:"h-12 w-12 rounded-full",src:nt,alt:""})}),Object(h.jsxs)("div",{className:"ml-4",children:[Object(h.jsx)("div",{className:"text-base font-medium text-white",children:"\xc1lvaro Ter\xe1n"}),Object(h.jsx)("div",{className:"text-base font-medium text-green-200",children:"CEO & Co-Founder, NextDoor"})]})]})})]})]})]})}),Object(h.jsx)("div",{className:"py-12 bg-gray-900",children:Object(h.jsxs)("div",{className:"max-w-xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(h.jsx)("h2",{className:"sr-only text-white",children:"A better way to send money."}),Object(h.jsx)("dl",{className:"space-y-10 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-8",children:lt.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("dt",{children:[Object(h.jsx)("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-green-500 text-white",children:Object(h.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})}),Object(h.jsx)("p",{className:"mt-5 text-lg leading-6 font-medium text-green-500",children:e.name})]}),Object(h.jsx)("dd",{className:"mt-2 text-base text-white",children:e.description})]},e.name)}))})]})})]})}var ot=new j,dt=Object(Ze.a)("pk_test_51K57lwFmKWmNynCn4tpPWoa3dTS3LrXIZ4Hh95ePl5rfKlUTrzoDgPd3mlNS3p3WIk7ncbrWdH6KbXK2yV1qbsn900T2PcOl2s");var mt=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),s=t[0],a=t[1],c=Object(r.useState)(""),n=Object(i.a)(c,2),o=n[0],d=n[1],m=Object(r.useState)(0),u=Object(i.a)(m,2),x=u[0],j=u[1],b=Object(r.useState)(!1),g=Object(i.a)(b,2),f=g[0],O=g[1];Object(r.useEffect)((function(){v()}),[]);var v=function(){ot.isloggedin().then((function(e){N(e.data)})).catch((function(e){return N(null)}))},y=function(){O(!0)},w=function(){O(!1)},N=function(e){a(e)},C=function(e){d({type:e})};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(we.Provider,{value:{subtotal:x,setSubtotal:j},children:Object(h.jsx)(J,{value:s,children:Object(h.jsx)("main",{children:Object(h.jsxs)(We.c,{children:[Object(h.jsx)(We.a,{path:"/",exact:!0,render:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,{loadUser:v,loggedUser:s,home:!0,type:o}),Object(h.jsx)(it,{loggedUser:s}),Object(h.jsx)(Pe,{loggedUser:s})]})}}),Object(h.jsx)(We.a,{path:"/products",exact:!0,render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,Object(l.a)(Object(l.a)({},e),{},{loadUser:v,loggedUser:s,type:o,refreshProducts:function(){return y()}})),Object(h.jsx)($,{refresh:f,loggedUser:s,changeValueRefresh:w}),Object(h.jsx)(Pe,{})]})}}),Object(h.jsx)(We.a,{path:"/chat",exact:!0,render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,Object(l.a)(Object(l.a)({},e),{},{loadUser:v,loggedUser:s,type:o,refreshProducts:function(){return y()}})),Object(h.jsx)(Ae,{loggedUser:s})]})}}),Object(h.jsx)(We.a,{path:"/payment",exact:!0,render:function(e){return Object(h.jsx)(Ue.Elements,{stripe:dt,children:Object(h.jsx)(_e,Object(l.a)({loadUser:v},e))})}}),Object(h.jsx)(We.a,{path:"/products/cart",exact:!0,render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,Object(l.a)(Object(l.a)({},e),{},{loadUser:v,loggedUser:s,type:o,refreshProducts:function(){return y()}})),Object(h.jsx)(Ce,{loadUser:v,loggedUser:s})]})}}),Object(h.jsx)(We.a,{path:"/seller/:id",render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,Object(l.a)({refreshProducts:function(){return y()},loadUser:v,loggedUser:s,type:o},e)),Object(h.jsx)(ye,Object(l.a)(Object(l.a)({},e),{},{loggedUser:s}))]})}}),Object(h.jsx)(We.a,{path:"/user/:id",exact:!0,render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,Object(l.a)({refreshProducts:function(){return y()},loadUser:v,loggedUser:s,type:o},e)),Object(h.jsx)(tt,Object(l.a)(Object(l.a)({},e),{},{loggedUser:s,loadUser:v}))]})}}),Object(h.jsx)(We.a,{path:"/products/:id",exact:!0,render:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(R,{loadUser:v,loggedUser:s,type:o}),Object(h.jsx)(oe,Object(l.a)(Object(l.a)({},e),{},{loadUser:v}))]})}}),Object(h.jsx)(We.a,{path:"/signUp",render:function(e){return Object(h.jsx)(z,Object(l.a)(Object(l.a)({},e),{},{loadUser:v}))}}),Object(h.jsx)(We.a,{path:"/logOut",render:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(R,{loadUser:v,loggedUser:s,type:o})})}}),Object(h.jsx)(We.a,{path:"/login",render:function(e){return Object(h.jsx)(p,Object(l.a)(Object(l.a)({},e),{},{loadUser:v,setTypeBussines:C}))}})]})})})})})},ut=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,119)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),r(e),a(e),c(e),n(e)}))};n.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(d.a,{children:Object(h.jsx)(mt,{})})}),document.getElementById("root")),ut()},79:function(e,t,s){}},[[113,1,2]]]);
//# sourceMappingURL=main.2bfe5474.chunk.js.map